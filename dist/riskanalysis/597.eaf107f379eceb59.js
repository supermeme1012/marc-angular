"use strict";(self.webpackChunkriskanalysis=self.webpackChunkriskanalysis||[]).push([[597],{4597:(ne,M,m)=>{m.r(M),m.d(M,{RiskAnalysisModule:()=>vt});var y=m(6895),_=m(4006),A=m(4859),I=m(6709),c=m(3238),u=m(5412),v=m(9549),L=m(7392),N=m(4144),U=m(5655),Y=m(8739),B=m(1572),F=m(4385),h=m(6257),P=m(7155),R=m(3848),z=m(2510),X=m(6412),g=m(7579),p=m(8505),a=m(2722),e=m(4650),f=m(529);let S=(()=>{class s{constructor(t){this.httpClient=t}loadSelection(){return this.httpClient.get("adhocAnalysis/adhocSelection")}findFavorites(t,i){return this.httpClient.get(`analysis/findFavourites?sapSystemId=${t}&risk=${i}`)}userList(t,i,l,o,d,r){return o=null===o||""===o?"":encodeURI(JSON.stringify(o)),this.httpClient.get(`adhocAnalysis/getFilteredUsers?\n        rows='${r}\n        &page=${d}\n        &sord=${l}\n        &filters=${o}\n        &sapSystemId=${t}\n        &userIds=${i}`)}userSelectedList(t){return this.httpClient.post("adhocAnalysis/selectedUserDetails",t)}roleSelectedList(t){return this.httpClient.post("adhocAnalysis/currentlySelectedRoles",t)}savePreselection(t){return this.httpClient.post("adhocAnalysis/savePreSelection",t)}selectedRuleList(t){return this.httpClient.post("adhocAnalysis/selectedRules",t)}selectedRiskList(t){return this.httpClient.post("adhocAnalysis/selectedRisks",t)}findUsers(t){return this.httpClient.post("adhocAnalysis/findUsers",t)}findRoles(t){return this.httpClient.post("adhocAnalysis/rolesResults",t)}findRules(t){return this.httpClient.post("adhocAnalysis/favRules",t)}findRisks(t){return this.httpClient.post("adhocAnalysis/favRisks",t)}findAllUsers(t){return this.httpClient.post("adhocAnalysis/selectAllUsers",t)}findAllRoles(t){return this.httpClient.post("adhocAnalysis/selectAllRoles",t)}findAllRules(t){return this.httpClient.post("adhocAnalysis/selectFavAllRules",t)}findAllRisks(t){return this.httpClient.post("adhocAnalysis/selectFavAllRisks",t)}userDetail(t){return this.httpClient.get("adhocAnalysis/userDetails",{params:new f.LE({fromObject:{...t}})})}roleDetail(t){return this.httpClient.get("adhocAnalysis/roleDetails",{params:new f.LE({fromObject:{...t}})})}ruleDetail(t){return this.httpClient.get("rules/ruleDetails",{params:new f.LE({fromObject:{...t}})})}riskDetail(t){return this.httpClient.get("risks/riskDetailsByName",{params:new f.LE({fromObject:{...t}})})}startAnalysis(t){return this.httpClient.post("adhocAnalysis/startAnalysis",t)}resultsDetail(t){return this.httpClient.get("adhocAnalysis/results",{params:new f.LE({fromObject:{...t}})})}resultSummary(t){return this.httpClient.get("analysis/resultSummary",{params:new f.LE({fromObject:{...t}})})}violationResults(t){return this.httpClient.get("analysis/violationResults",{params:new f.LE({fromObject:{...t}})})}}return s.\u0275fac=function(t){return new(t||s)(e.LFG(f.eN))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),J=(()=>{class s{constructor(t,i){this.dialogData=t,this.apiService=i,this.subject=new g.x,this.items=[],this.itemsForTable=[],this.cols=[{name:"ruleName",type:"text",header:"Rule"},{name:"ruleType.name",type:"text",header:"Rule Type"},{name:"ruleDescription",type:"text",header:"Description"}],this.selectedCols=[{name:"name",type:"text",header:"Object"},{name:"fieldName",type:"text",header:"Field Name"},{name:"fieldValue",type:"text",header:"Value"},{name:"joinByAnd",type:"boolean",header:"Join By And"}],this.showDetail=!1,this.onRowSelect=l=>{this.showDetail=!0,this.selectedItems=this.items.filter(o=>o.risk.id===l.data.id).map(o=>o.detail)[0]},this.onRowUnselect=l=>{this.showDetail=!1},this.selectedItems=[]}ngOnInit(){this.initDetail()}initDetail(){this.apiService.riskDetail({riskId:this.dialogData.riskId}).pipe((0,p.b)(i=>{i.success&&(Object.values(i.data.ruleMap).forEach(o=>{this.items.push({risk:o[0].rule,detail:o}),this.itemsForTable.push(o[0].rule)}),this.risk=i.data.risk)}),(0,a.R)(this.subject)).subscribe()}ngOnDestroy(){this.subject.next(!0),this.subject.complete()}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(u.WI),e.Y36(S))},s.\u0275cmp=e.Xpm({type:s,selectors:[["online-risk-detail"]],decls:0,vars:0,template:function(t,i){},encapsulation:2}),s})();var T=m(4004),C=m(7098);let q=(()=>{class s{constructor(t,i,l,o,d){this.dialogData=t,this.dialogRef=i,this._loadSelectionService=l,this.apiService=o,this.dialog=d,this.cols=[{name:"name",type:"text",header:"Risk Id",width:200,color:"#008cf0",iconClass:"pi-angle-right",onClick:r=>this.openDetail(r)},{name:"riskDescription",type:"text",header:"Description"},{name:"businessProcess.name",type:"text",header:"Business Process"},{name:"businessProcess.subProcessNames",type:"text",header:"Sub Process"},{name:"riskType.name",type:"text",header:"Risk Type"}],this.subject=new g.x,this.selectedRiskIds=[],this.selectedRiskFirstIds=[],this.onRowSelect=r=>{this.selectedRiskIds.push(r.data.id),this.selectedRiskFirstIds.push(r.data.id)},this.onRowUnselect=r=>{this.selectedRiskIds=this.selectedRiskIds.filter(b=>b!==r.data.id),this.selectedRiskFirstIds=this.selectedRiskFirstIds.filter(b=>b!==r.data.id)},this.loadData=r=>{this.tableEvent=r,this.apiService.findRisks({lazyEvent:this.tableEvent,selectedRisks:this.selectedRiskFirstIds,favoriteIdStr:this.dialogData.preSelection.favoriteIdStr}).pipe((0,T.U)(k=>{this.items=k.data.rows,this.totalRecords=k.data.records}),(0,a.R)(this.subject)).subscribe()}}ngOnInit(){this.selectedRiskFirstIds=this.dialogData.preSelection.selectedRisks}saveSelected(){this.loadData(this.tableEvent)}closeDialog(){this.dialogRef.close({selectedRiskIds:this.selectedRiskIds})}saveAll(){this.apiService.findAllRisks({lazyEvent:this.tableEvent,selectedRisks:[]}).pipe((0,p.b)(i=>{this.dialogRef.close({selectedRiskIds:i.data.selectedRisks})}),(0,a.R)(this.subject)).subscribe()}ngOnDestroy(){this.subject.next(!0),this.subject.complete()}openDetail(t){this.dialog.open(J,{autoFocus:!1,maxHeight:"80vh",width:"70%",disableClose:!1,data:{riskId:t.name}})}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(u.WI),e.Y36(u.so),e.Y36(C.e),e.Y36(S),e.Y36(u.uw))},s.\u0275cmp=e.Xpm({type:s,selectors:[["online-risk-select-list"]],decls:0,vars:0,template:function(t,i){},encapsulation:2}),s})();var Q=m(5593),j=m(1327),x=m(403),K=m(805);function oe(s,n){if(1&s&&(e.TgZ(0,"h2",6),e._uU(1),e.qZA()),2&s){const t=e.oxw(2);e.xp6(1),e.Oqu(t.header)}}function le(s,n){1&s&&e.YNc(0,oe,2,1,"ng-template",5)}function ae(s,n){if(1&s&&e._UZ(0,"p-sortIcon",11),2&s){const t=e.oxw().$implicit;e.s9C("field",t.name)}}function re(s,n){if(1&s&&e._UZ(0,"p-columnFilter",12),2&s){const t=e.oxw().$implicit;e.s9C("type",t.type),e.s9C("field",t.name)}}function ce(s,n){if(1&s&&(e.TgZ(0,"th",8),e._uU(1),e.YNc(2,ae,1,1,"p-sortIcon",9),e.YNc(3,re,1,2,"p-columnFilter",10),e.qZA()),2&s){const t=n.$implicit,i=e.oxw(2);e.s9C("pSortableColumn",t.name),e.xp6(1),e.hij(" ",t.header," "),e.xp6(1),e.Q6J("ngIf",i.sortable),e.xp6(1),e.Q6J("ngIf",void 0===t.filterEnabled||"true"===t.filterEnabled)}}function pe(s,n){if(1&s&&(e.TgZ(0,"tr"),e._UZ(1,"th"),e.YNc(2,ce,4,4,"th",7),e.qZA()),2&s){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.columns)}}function de(s,n){if(1&s&&e._UZ(0,"p-tableCheckbox",17),2&s){const t=e.oxw(2).$implicit;e.Q6J("value",t)}}const W=function(s,n){return{width:s,color:n}},me=function(s,n){return{"true-icon pi-check-circle":s,"false-icon pi-times-circle":n}};function ue(s,n){if(1&s){const t=e.EpF();e.TgZ(0,"td",18),e.NdJ("click",function(){e.CHM(t);const l=e.oxw().$implicit,o=e.oxw().$implicit;return e.KtG(null==l.onClick?null:l.onClick(o))}),e._UZ(1,"i",19),e.qZA()}if(2&s){const t=e.oxw().$implicit,i=e.oxw().$implicit;e.Q6J("ngStyle",e.WLB(2,W,t&&t.width?t.width+"px":"auto",t&&t.color?t.color:"inherent")),e.xp6(1),e.Q6J("ngClass",e.WLB(5,me,"true"===i[t.name],"false"===i[t.name]))}}function he(s,n){if(1&s&&e._UZ(0,"i"),2&s){const t=e.oxw(2).$implicit;e.Gre("pi ",t.iconClass,"")}}function fe(s,n){if(1&s){const t=e.EpF();e.TgZ(0,"td",20),e.NdJ("click",function(){e.CHM(t);const l=e.oxw().$implicit,o=e.oxw().$implicit;return e.KtG(null==l.onClick?null:l.onClick(o))}),e.YNc(1,he,1,3,"i",21),e._uU(2),e.qZA()}if(2&s){const t=e.oxw().$implicit,i=e.oxw().$implicit;e.Q6J("ngStyle",e.WLB(3,W,t&&t.width?t.width+"px":"auto",t&&t.color?t.color:"inherent")),e.xp6(1),e.Q6J("ngIf",t.iconClass),e.xp6(1),e.hij(" ",i[t.name.split(".")[0]][t.name.split(".")[1]]," ")}}function ge(s,n){if(1&s&&e._UZ(0,"i"),2&s){const t=e.oxw(2).$implicit;e.Gre("pi ",t.iconClass,"")}}function _e(s,n){if(1&s){const t=e.EpF();e.TgZ(0,"td",20),e.NdJ("click",function(){e.CHM(t);const l=e.oxw().$implicit,o=e.oxw().$implicit;return e.KtG(null==l.onClick?null:l.onClick(o))}),e.YNc(1,ge,1,3,"i",21),e._uU(2),e.qZA()}if(2&s){const t=e.oxw().$implicit,i=e.oxw().$implicit;e.Q6J("ngStyle",e.WLB(3,W,t&&t.width?t.width+"px":"auto",t&&t.color?t.color:"inherent")),e.xp6(1),e.Q6J("ngIf",t.iconClass),e.xp6(1),e.hij(" ",i[t.name]," ")}}function Se(s,n){if(1&s&&(e.ynx(0),e.TgZ(1,"td"),e.YNc(2,de,1,1,"p-tableCheckbox",14),e.qZA(),e.YNc(3,ue,2,8,"td",15),e.YNc(4,fe,3,6,"td",16),e.YNc(5,_e,3,6,"td",16),e.BQk()),2&s){const t=n.$implicit,i=n.index;e.xp6(2),e.Q6J("ngIf",0===i),e.xp6(1),e.Q6J("ngIf","boolean"===t.type),e.xp6(1),e.Q6J("ngIf","text"===t.type&&t.name.includes(".")),e.xp6(1),e.Q6J("ngIf","text"===t.type&&!t.name.includes("."))}}function ye(s,n){if(1&s&&(e.TgZ(0,"tr"),e.YNc(1,Se,6,4,"ng-container",13),e.qZA()),2&s){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.columns)}}const be=function(){return{width:"100%"}};let Re=(()=>{class s{constructor(){this.items=[],this.selectedItems=[],this.columns=[],this.filterEnabled="true",this.selectionMode="single"}ngOnInit(){}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["custom-p-table"]],inputs:{items:"items",selectedItems:"selectedItems",columns:"columns",primaryKey:"primaryKey",totalRecords:"totalRecords",sortable:"sortable",isLoading:"isLoading",callBack:"callBack",onAllSelected:"onAllSelected",onRowSelect:"onRowSelect",onTableHeaderCheckboxToggle:"onTableHeaderCheckboxToggle",onRowUnselect:"onRowUnselect",header:"header",filterEnabled:"filterEnabled",selectionMode:"selectionMode"},standalone:!0,features:[e.jDz],decls:5,vars:13,consts:[["scrollDirection","horizontal",3,"value","dataKey","lazy","paginator","scrollable","selectionMode","rows","totalRecords","loading","onLazyLoad","onHeaderCheckboxToggle","onRowSelect","onRowUnselect"],["dt2",""],[4,"ngIf"],["pTemplate","header"],["pTemplate","body"],["pTemplate","caption"],["mat-dialog-title",""],[3,"pSortableColumn",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field",4,"ngIf"],["display","menu",3,"type","field",4,"ngIf"],[3,"field"],["display","menu",3,"type","field"],[4,"ngFor","ngForOf"],[3,"value",4,"ngIf"],[3,"ngStyle","click",4,"ngIf"],["class","truncate",3,"ngStyle","click",4,"ngIf"],[3,"value"],[3,"ngStyle","click"],[1,"pi",3,"ngClass"],[1,"truncate",3,"ngStyle","click"],[3,"class",4,"ngIf"]],template:function(t,i){1&t&&(e.TgZ(0,"p-table",0,1),e.NdJ("onLazyLoad",function(o){return i.callBack(o)})("onHeaderCheckboxToggle",function(o){return i.onTableHeaderCheckboxToggle(o)})("onRowSelect",function(o){return i.onRowSelect(o)})("onRowUnselect",function(o){return i.onRowUnselect(o)}),e.YNc(2,le,1,0,null,2),e.YNc(3,pe,3,1,"ng-template",3),e.YNc(4,ye,2,1,"ng-template",4),e.qZA()),2&t&&(e.Akn(e.DdM(12,be)),e.Q6J("value",i.items)("dataKey",i.primaryKey)("lazy",!0)("paginator",!0)("scrollable",!0)("selectionMode",i.selectionMode)("rows",10)("totalRecords",i.totalRecords)("loading",i.isLoading),e.xp6(2),e.Q6J("ngIf",i.header))},dependencies:[x.U$,x.iA,K.jx,x.lQ,x.fz,x.UA,x.xl,y.ez,y.mk,y.sg,y.O5,y.PC]}),s})(),$=(()=>{class s{constructor(){this.items=[],this.columns=[],this.selectedItems=new e.vpe,this.filterEnabled="true",this.selectionMode="single"}ngOnInit(){}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["custom-list"]],inputs:{items:"items",columns:"columns",primaryKey:"primaryKey",totalRecords:"totalRecords",isLoading:"isLoading",sortable:"sortable",callBack:"callBack",onRowSelect:"onRowSelect",onRowUnselect:"onRowUnselect",header:"header",filterEnabled:"filterEnabled",selectionMode:"selectionMode",menuItems:"menuItems"},outputs:{selectedItems:"selectedItems"},standalone:!0,features:[e.jDz],decls:12,vars:11,consts:[[1,"flex","flex-col","p-6"],[1,"flex","min-w-0"],[1,"flex-auto"],[1,"text-3xl","font-bold","mt-0","mb-6"],[1,"flex"],["type","button","pButton","","icon","pi pi-angle-double-down","label","Actions",1,"ml-auto","p-button-rounded","p-button-sm",3,"click"],["appendTo","body",3,"popup","model"],["menu",""],[3,"columns","items","primaryKey","callBack","sortable","totalRecords","onRowSelect","onRowUnselect"]],template:function(t,i){if(1&t){const l=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e._uU(4),e.qZA()()(),e.TgZ(5,"div",4),e._UZ(6,"div",2),e.TgZ(7,"div")(8,"button",5),e.NdJ("click",function(d){e.CHM(l);const r=e.MAs(10);return e.KtG(r.toggle(d))}),e.qZA(),e._UZ(9,"p-menu",6,7),e.qZA()(),e._UZ(11,"custom-p-table",8),e.qZA()}2&t&&(e.xp6(4),e.Oqu(i.header),e.xp6(5),e.Q6J("popup",!0)("model",i.menuItems),e.xp6(2),e.Q6J("columns",i.columns)("items",i.items)("primaryKey",i.primaryKey)("callBack",i.callBack)("sortable",i.sortable)("totalRecords",i.totalRecords)("onRowSelect",i.onRowSelect)("onRowUnselect",i.onRowUnselect))},dependencies:[Q.hJ,Q.Hq,j.$9,j.v2,Re],encapsulation:2}),s})(),V=(()=>{class s{constructor(t){this.httpClient=t}loadSelection(){return this.httpClient.get("adhocAnalysis/adhocSelection")}findFavorites(t,i){return this.httpClient.get(`analysis/findFavourites?sapSystemId=${t}&risk=${i}`)}userList(t,i,l,o,d,r){return o=null===o||""===o?"":encodeURI(JSON.stringify(o)),this.httpClient.get(`adhocAnalysis/getFilteredUsers?\n        rows='${r}\n        &page=${d}\n        &sord=${l}\n        &filters=${o}\n        &sapSystemId=${t}\n        &userIds=${i}`)}userSelectedList(t){return this.httpClient.post("adhocAnalysis/selectedUserDetails",t)}roleSelectedList(t){return this.httpClient.post("adhocAnalysis/currentlySelectedRoles",t)}savePreselection(t){return this.httpClient.post("adhocAnalysis/savePreSelection",t)}selectedRuleList(t){return this.httpClient.post("adhocAnalysis/selectedRules",t)}selectedRiskList(t){return this.httpClient.post("adhocAnalysis/selectedRisks",t)}findUsers(t){return this.httpClient.post("adhocAnalysis/findUsers",t)}findRoles(t){return this.httpClient.post("adhocAnalysis/rolesResults",t)}findRules(t){return this.httpClient.post("adhocAnalysis/favRules",t)}findRisks(t){return this.httpClient.post("adhocAnalysis/favRisks",t)}findAllUsers(t){return this.httpClient.post("adhocAnalysis/selectAllUsers",t)}findAllRoles(t){return this.httpClient.post("adhocAnalysis/selectAllRoles",t)}findAllRules(t){return this.httpClient.post("adhocAnalysis/selectFavAllRules",t)}findAllRisks(t){return this.httpClient.post("adhocAnalysis/selectFavAllRisks",t)}userDetail(t){return this.httpClient.get("adhocAnalysis/userDetails",{params:new f.LE({fromObject:{...t}})})}roleDetail(t){return this.httpClient.get("adhocAnalysis/roleDetails",{params:new f.LE({fromObject:{...t}})})}ruleDetail(t){return this.httpClient.get("rules/ruleDetails",{params:new f.LE({fromObject:{...t}})})}riskDetail(t){return this.httpClient.get("risks/riskDetailsByName",{params:new f.LE({fromObject:{...t}})})}startAnalysis(t){return this.httpClient.post("adhocAnalysis/startAnalysis",t)}resultsDetail(t){return this.httpClient.get("adhocAnalysis/results",{params:new f.LE({fromObject:{...t}})})}resultSummary(t){return this.httpClient.get("analysis/resultSummary",{params:new f.LE({fromObject:{...t}})})}violationResults(t){return this.httpClient.get("analysis/violationResults",{params:new f.LE({fromObject:{...t}})})}}return s.\u0275fac=function(t){return new(t||s)(e.LFG(f.eN))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),D=(()=>{class s{constructor(t,i,l){this._loadSelectionService=t,this.apiService=i,this.dialog=l,this.cols=[{name:"name",type:"text",header:"Risk ID",width:200,color:"#008cf0",iconClass:"pi-angle-right",onClick:o=>this.openDetail(o)},{name:"riskDescription",type:"text",header:"Description"},{name:"businessProcess.name",type:"text",header:"Business Process"},{name:"businessProcess.subProcessNames",type:"text",header:"Sub Process"},{name:"riskType.name",type:"text",header:"Risk Type"}],this.subject=new g.x,this.selectedRiskIds=[],this.menuItems=[{label:"Remove",icon:"pi pi-user-plus",command:()=>this.remove()},{label:"Remove All",icon:"pi pi-user-edit",command:()=>this.removeAll()},{label:"Select",icon:"pi pi-user-edit",command:()=>this.openRiskSelection()}],this.loadData=o=>{this.tableEvent=o,null!=this.preSelection.selectedRisks&&(this.loading=!0,setTimeout(()=>{this.apiService.selectedRiskList({lazyEvent:this.tableEvent,riskIds:this.preSelection.selectedRisks}).pipe((0,T.U)(r=>{this.items=r.data.rows,this.totalRecords=r.data.records,this.loading=!1}),(0,a.R)(this.subject)).subscribe()},10))},this.onRowSelect=o=>{this.selectedRiskIds.push(o.data.id)},this.onRowUnselect=o=>{this.selectedRiskIds=this.selectedRiskIds.filter(d=>d!==o.data.id)}}ngOnInit(){this.selectedRiskIds=[]}ngOnChanges(t){null!=this.preSelection&&this.loadData(this.tableEvent)}ngOnDestroy(){this.subject.next(!0),this.subject.complete()}remove(){this.selectedRiskIds.forEach(t=>this.preSelection.selectedRisks=this.preSelection.selectedRisks.filter(i=>i!==t)),this.loadData(this.tableEvent)}removeAll(){this.selectedRiskIds=[],this.preSelection.selectedRisks=this.selectedRiskIds,this.loadData(this.tableEvent)}openDetail(t){this.dialog.open(J,{autoFocus:!1,maxHeight:"80vh",width:"70%",disableClose:!1,data:{riskId:t.name}}).afterClosed().subscribe(o=>{})}openRiskSelection(){null!=this.preSelection&&this.dialog.open(q,{autoFocus:!1,maxHeight:"110vh",width:"70%",disableClose:!0,data:{preSelection:this.preSelection}}).afterClosed().subscribe(i=>{null!==i.selectedRiskIds&&(i.selectedRiskIds.forEach(l=>this.preSelection.selectedRisks.push(l)),this.loadData(this.tableEvent))})}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(C.e),e.Y36(V),e.Y36(u.uw))},s.\u0275cmp=e.Xpm({type:s,selectors:[["online-risk-list"]],inputs:{preSelection:"preSelection"},standalone:!0,features:[e.TTD,e.jDz],decls:1,vars:7,consts:[["header","Risk List","primaryKey","id",3,"columns","menuItems","items","callBack","totalRecords","onRowSelect","onRowUnselect"]],template:function(t,i){1&t&&e._UZ(0,"custom-list",0),2&t&&e.Q6J("columns",i.cols)("menuItems",i.menuItems)("items",i.items)("callBack",i.loadData)("totalRecords",i.totalRecords)("onRowSelect",i.onRowSelect)("onRowUnselect",i.onRowUnselect)},dependencies:[$],encapsulation:2}),s})(),H=(()=>{class s{constructor(t,i,l){this.dialogData=t,this.apiService=i,this.dialogRef=l,this.subject=new g.x,this.cols=[{name:"name",type:"text",header:"Role"},{name:"roleDesc.description",type:"text",header:"Description"},{name:"fromDateStr",type:"text",header:"From Date [YYYY-MM-DD]"},{name:"toDateStr",type:"text",header:"To Date [YYYY-MM-DD]"}],this.authorizationColumns=[{name:"profile",type:"text",header:"Profile"},{name:"auth",type:"text",header:"Auth"},{name:"object",type:"text",header:"Object"},{name:"field",type:"text",header:"Field"},{name:"von",type:"text",header:"Von"},{name:"bis",type:"text",header:"Bis"}],this.userColumns=[{name:"bname",type:"text",header:"BName"},{name:"firstName",type:"text",header:"First Name"},{name:"lastName",type:"text",header:"Last Name"},{name:"userText",type:"text",header:"User Text"}]}ngOnInit(){this.initDetail()}initDetail(){this.apiService.roleDetail({roleId:this.dialogData.roleId,sapId:this.dialogData.sapId}).pipe((0,T.U)(i=>{i.success&&(this.users=i.data.users,this.authorizations=i.data.authorizations,this.role=i.data.role)}),(0,a.R)(this.subject)).subscribe()}ngOnDestroy(){this.subject.next(!0),this.subject.complete()}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(u.WI),e.Y36(S),e.Y36(u.so))},s.\u0275cmp=e.Xpm({type:s,selectors:[["online-role-detail"]],decls:0,vars:0,template:function(t,i){},encapsulation:2}),s})(),Te=(()=>{class s{constructor(t,i,l,o,d){this.dialogData=t,this.dialogRef=i,this._loadSelectionService=l,this.apiService=o,this.dialog=d,this.cols=[{name:"name",type:"text",header:"Role Name",width:200,color:"#008cf0",iconClass:"pi-angle-right",onClick:r=>this.openDetail(r)},{name:"description",type:"text",header:"Description"}],this.selectedItems=[],this.subject=new g.x,this.loadData=r=>{this.tableEvent=r,this.apiService.findRoles({lazyEvent:this.tableEvent,selectedSAP:this.preSelection.selectedSAP,options:this.preSelection.options,selectedusers:this.selectedItems}).pipe((0,T.U)(k=>{this.items=k.data.gridData.rows,this.totalRecords=k.data.gridData.records}),(0,a.R)(this.subject)).subscribe()},this.onRowSelect=r=>{this.selectedItems.push(r.data.name)},this.onRowUnselect=r=>{this.selectedItems=this.selectedItems.filter(b=>b!==r.data.name)}}ngOnInit(){this.preSelection=this.dialogData.preSelection,this.selectedItems=this.preSelection.selectedusers,null==this.selectedItems&&(this.selectedItems=[])}closeDialog(){this.dialogRef.close({selectedRolesIds:this.selectedItems})}saveSelected(){this.loadData(this.tableEvent)}saveAll(){this.apiService.findAllRoles({lazyEvent:this.tableEvent,selectedSAP:this.preSelection.selectedSAP,options:this.preSelection.options,selectedusers:[]}).pipe((0,p.b)(i=>{this.dialogRef.close({selectedRolesIds:i.data.selectedusers})}),(0,a.R)(this.subject)).subscribe()}ngOnDestroy(){this.subject.next(!0),this.subject.complete()}openDetail(t){this.dialog.open(H,{autoFocus:!1,maxHeight:"80vh",width:"70%",disableClose:!1,data:{roleId:t.name,sapId:this.preSelection.selectedSAP}})}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(u.WI),e.Y36(u.so),e.Y36(C.e),e.Y36(S),e.Y36(u.uw))},s.\u0275cmp=e.Xpm({type:s,selectors:[["online-role-select-list"]],decls:0,vars:0,template:function(t,i){},encapsulation:2}),s})(),w=(()=>{class s{constructor(t,i,l){this._loadSelectionService=t,this.dialog=i,this.riskAnalysisOnlineService=l,this.selectedItems=[],this.loadData=o=>{null!=this.preSelection&&(this.tableEvent=o,this.riskAnalysisOnlineService.roleSelectedList({lazyEvent:this.tableEvent,sapId:this.preSelection.selectedSAP,selectedIds:this.preSelection.selectedusers}).pipe((0,T.U)(r=>{this.items=r.data.rows,this.totalRecords=r.data.records}),(0,a.R)(this.subject)).subscribe())},this.cols=[{name:"name",type:"text",header:"Role Name",width:200,color:"#008cf0",iconClass:"pi-angle-right",onClick:o=>this.openDetail(o)},{name:"description",type:"text",header:"Description"}],this.subject=new g.x,this.menuItems=[{label:"Remove",icon:"pi pi-user-plus",command:()=>this.remove()},{label:"Remove All",icon:"pi pi-user-edit",command:()=>this.removeAll()},{label:"Select",icon:"pi pi-user-edit",command:()=>this.openRoleSelectDialog()}],this.onRowSelect=o=>{this.selectedItems.push(o.data.name)},this.onRowUnselect=o=>{this.selectedItems=this.selectedItems.filter(d=>d!==o.data.name)}}ngOnInit(){}remove(){this.selectedItems.forEach(t=>this.preSelection.selectedusers=this.preSelection.selectedusers.filter(i=>i!==t)),this.loadData(this.tableEvent)}removeAll(){this.preSelection.selectedusers=[],this.loadData(this.tableEvent)}openRoleSelectDialog(){null!=this.preSelection&&this.dialog.open(Te,{autoFocus:!1,maxHeight:"110vh",width:"70%",disableClose:!0,data:{preSelection:this.preSelection}}).afterClosed().subscribe(i=>{this.preSelection.selectedusers=i.selectedRolesIds,this.loadData(this.tableEvent)})}openDetail(t){this.dialog.open(H,{autoFocus:!1,maxHeight:"80vh",width:"70%",disableClose:!1,data:{userId:t.name,sapId:this.preSelection.selectedSAP}}).afterClosed().subscribe(o=>{this.preSelection.selectedusers=o.selectedRolesIds,this.loadData(this.tableEvent)})}ngOnDestroy(){this.subject.next(!0),this.subject.complete()}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(C.e),e.Y36(u.uw),e.Y36(V))},s.\u0275cmp=e.Xpm({type:s,selectors:[["online-roles"]],inputs:{preSelection:"preSelection",items:"items"},standalone:!0,features:[e.jDz],decls:1,vars:7,consts:[["header","Role List","primaryKey","name",3,"columns","menuItems","items","callBack","totalRecords","onRowSelect","onRowUnselect"]],template:function(t,i){1&t&&e._UZ(0,"custom-list",0),2&t&&e.Q6J("columns",i.cols)("menuItems",i.menuItems)("items",i.items)("callBack",i.loadData)("totalRecords",i.totalRecords)("onRowSelect",i.onRowSelect)("onRowUnselect",i.onRowUnselect)},dependencies:[$],encapsulation:2}),s})(),G=(()=>{class s{constructor(t,i){this.dialogData=t,this.apiService=i,this.subject=new g.x,this.cols=[{name:"name",type:"text",header:"Object"},{name:"fieldName",type:"text",header:"Field Name"},{name:"fieldValue",type:"text",header:"Value"},{name:"joinByAnd",type:"boolean",header:"Join By And"}]}ngOnInit(){this.initDetail()}initDetail(){this.apiService.ruleDetail({ruleId:this.dialogData.ruleId}).pipe((0,p.b)(i=>{i.success&&(this.items=i.data,this.rule=i.data[0].rule)}),(0,a.R)(this.subject)).subscribe()}ngOnDestroy(){this.subject.next(!0),this.subject.complete()}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(u.WI),e.Y36(S))},s.\u0275cmp=e.Xpm({type:s,selectors:[["online-rule-detail"]],decls:0,vars:0,template:function(t,i){},encapsulation:2}),s})(),Ae=(()=>{class s{constructor(t,i,l,o,d){this.dialogData=t,this.dialogRef=i,this._loadSelectionService=l,this.apiService=o,this.dialog=d,this.cols=[{name:"ruleName",type:"text",header:"Rule ID",width:200,color:"#008cf0",iconClass:"pi-angle-right",onClick:r=>this.openDetail(r)},{name:"ruleDescription",type:"text",header:"Description"},{name:"businessProcess.name",type:"text",header:"Business Process"},{name:"businessProcess.subProcessNames",type:"text",header:"Sub Process"},{name:"ruleType.name",type:"text",header:"Rule Type"}],this.subject=new g.x,this.selectedRuleIds=[],this.selectedRiskFirstIds=[],this.onRowSelect=r=>{this.selectedRuleIds.push(r.data.id),this.selectedRiskFirstIds.push(r.data.id)},this.onRowUnselect=r=>{this.selectedRuleIds=this.selectedRuleIds.filter(b=>b!==r.data.id),this.selectedRiskFirstIds=this.selectedRiskFirstIds.filter(b=>b!==r.data.id)},this.loadData=r=>{this.tableEvent=r,this.apiService.findRules({lazyEvent:this.tableEvent,selectedRules:this.selectedRiskFirstIds,favoriteIdStr:this.dialogData.preSelection.favoriteIdStr}).pipe((0,T.U)(k=>{this.items=k.data.content,this.totalRecords=k.data.records}),(0,a.R)(this.subject)).subscribe()}}ngOnInit(){this.selectedRiskFirstIds=this.dialogData.preSelection.selectedRules}saveSelected(){this.loadData(this.tableEvent)}closeDialog(){this.dialogRef.close({selectedRuleIds:this.selectedRuleIds})}saveAll(){this.apiService.findAllRules({lazyEvent:this.tableEvent,selectedRules:this.preSelection.selectedRules}).pipe((0,p.b)(i=>{this.dialogRef.close({selectedRuleIds:i.data.selectedRules})}),(0,a.R)(this.subject)).subscribe()}ngOnDestroy(){this.subject.next(!0),this.subject.complete()}openDetail(t){this.dialog.open(G,{autoFocus:!1,maxHeight:"80vh",width:"70%",disableClose:!1,data:{ruleId:t.id}})}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(u.WI),e.Y36(u.so),e.Y36(C.e),e.Y36(S),e.Y36(u.uw))},s.\u0275cmp=e.Xpm({type:s,selectors:[["online-rule-select-list"]],decls:0,vars:0,template:function(t,i){},encapsulation:2}),s})(),Z=(()=>{class s{constructor(t,i,l){this._loadSelectionService=t,this.apiService=i,this.dialog=l,this.cols=[{name:"ruleName",type:"text",header:"Rule ID",width:200,color:"#008cf0",iconClass:"pi-angle-right",onClick:o=>this.openDetail(o)},{name:"ruleDescription",type:"text",header:"Description"},{name:"businessProcess.name",type:"text",header:"Business Process"},{name:"businessProcess.subProcessNames",type:"text",header:"Sub Process"},{name:"ruleType.name",type:"text",header:"Rule Type"}],this.subject=new g.x,this.menuItems=[{label:"Remove",icon:"pi pi-user-plus",command:()=>this.remove()},{label:"Remove All",icon:"pi pi-user-edit",command:()=>this.removeAll()},{label:"Select",icon:"pi pi-user-edit",command:()=>this.openRuleSelection()}],this.selectedRuleIds=[],this.loadData=o=>{this.tableEvent=o,null!=this.preSelection.selectedRules&&(this.loading=!0,setTimeout(()=>{this.apiService.selectedRuleList({lazyEvent:this.tableEvent,ruleIds:this.preSelection.selectedRules}).pipe((0,T.U)(r=>{this.items=r.data.rows,this.totalRecords=r.data.records,this.loading=!1}),(0,a.R)(this.subject)).subscribe()},10))},this.onRowSelect=o=>{this.selectedRuleIds.push(o.data.id)},this.onRowUnselect=o=>{this.selectedRuleIds=this.selectedRuleIds.filter(d=>d!==o.data.id)}}ngOnInit(){}ngOnChanges(t){null!=this.preSelection&&this.loadData(this.tableEvent)}ngOnDestroy(){this.subject.next(!0),this.subject.complete()}remove(){this.selectedRuleIds.forEach(t=>this.preSelection.selectedRules=this.preSelection.selectedRules.filter(i=>i!==t)),this.loadData(this.tableEvent)}removeAll(){this.selectedRuleIds=[],this.preSelection.selectedRules=this.selectedRuleIds,this.loadData(this.tableEvent)}openDetail(t){this.dialog.open(G,{autoFocus:!1,maxHeight:"80vh",width:"70%",disableClose:!1,data:{ruleId:t.id}}).afterClosed().subscribe(o=>{})}openRuleSelection(){null!=this.preSelection&&this.dialog.open(Ae,{autoFocus:!1,maxHeight:"110vh",width:"70%",disableClose:!0,data:{preSelection:this.preSelection}}).afterClosed().subscribe(i=>{null!==i.selectedRuleIds&&(i.selectedRuleIds.forEach(l=>this.preSelection.selectedRules.push(l)),this.loadData(this.tableEvent))})}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(C.e),e.Y36(V),e.Y36(u.uw))},s.\u0275cmp=e.Xpm({type:s,selectors:[["online-rule-list"]],inputs:{preSelection:"preSelection"},standalone:!0,features:[e.TTD,e.jDz],decls:1,vars:7,consts:[["header","Rule List","primaryKey","id",3,"columns","menuItems","items","callBack","totalRecords","onRowSelect","onRowUnselect"]],template:function(t,i){1&t&&e._UZ(0,"custom-list",0),2&t&&e.Q6J("columns",i.cols)("menuItems",i.menuItems)("items",i.items)("callBack",i.loadData)("totalRecords",i.totalRecords)("onRowSelect",i.onRowSelect)("onRowUnselect",i.onRowUnselect)},dependencies:[$],encapsulation:2}),s})(),ee=(()=>{class s{constructor(t,i,l){this.dialogData=t,this.apiService=i,this.dialogRef=l,this.subject=new g.x,this.cols=[{name:"name",type:"text",header:"Role"},{name:"roleDesc.description",type:"text",header:"Description"},{name:"fromDateStr",type:"text",header:"From Date [YYYY-MM-DD]"},{name:"toDateStr",type:"text",header:"To Date [YYYY-MM-DD]"}]}ngOnInit(){this.initDetail()}initDetail(){this.apiService.userDetail({userId:this.dialogData.userId,sapId:this.dialogData.sapId}).pipe((0,T.U)(i=>{i.success&&(this.items=i.data.roles,this.user=i.data.userBase)}),(0,a.R)(this.subject)).subscribe()}ngOnDestroy(){this.subject.next(!0),this.subject.complete()}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(u.WI),e.Y36(S),e.Y36(u.so))},s.\u0275cmp=e.Xpm({type:s,selectors:[["online-user-detail"]],decls:0,vars:0,template:function(t,i){},encapsulation:2}),s})(),Ce=(()=>{class s{constructor(t,i,l,o,d){this.dialogData=t,this.dialogRef=i,this._loadSelectionService=l,this.apiService=o,this.dialog=d,this.cols=[{name:"bname",type:"text",header:"User ID",width:200,color:"#008cf0",iconClass:"pi-angle-right",onClick:r=>this.openDetail(r)},{name:"userName",type:"text",header:"Name"},{name:"ustyp",type:"text",header:"Type"},{name:"clas",type:"text",header:"Group"},{name:"uflag",type:"text",header:"Lock"},{name:"gltgbInDateFmt",type:"text",header:"Valid To",filterEnabled:"false"}],this.selectedItems=[],this.subject=new g.x,this.callBackFn=r=>{this.loadData(r)},this.onRowSelect=r=>{this.selectedItems.push(r.data.bname)},this.onRowUnselect=r=>{this.selectedItems=this.selectedItems.filter(b=>b!==r.data.bname)}}ngOnInit(){this.preSelection=this.dialogData.preSelection,this.selectedItems=this.preSelection.selectedusers,null==this.selectedItems&&(this.selectedItems=[]),null!=this.preSelection.selectedSessionTables&&(this.selectedSessionTables=this.preSelection.selectedSessionTables)}onTableHeaderCheckboxToggle(t){!0===t.checked?this.selectedItems=this.items:this.selectedItems.length=0}loadData(t){this.tableEvent=t,this.apiService.findUsers({lazyEvent:this.tableEvent,selectedSAP:this.preSelection.selectedSAP,options:this.preSelection.options,selectedusers:this.selectedItems,userSessionTables:this.selectedSessionTables}).pipe((0,T.U)(l=>{this.items=l.data.gridData.rows,this.selectedSessionTables=l.data.userSessionTables,this.totalRecords=l.data.gridData.records}),(0,a.R)(this.subject)).subscribe()}saveSelected(){this.loadData(this.tableEvent)}closeDialog(){this.dialogRef.close({selectedUsersIds:this.selectedItems,selectedSessionTables:this.selectedSessionTables})}saveAll(){this.apiService.findAllUsers({lazyEvent:this.tableEvent,selectedSAP:this.preSelection.selectedSAP,options:this.preSelection.options}).pipe((0,p.b)(i=>{this.dialogRef.close({selectedUsersIds:i.data.selectedusers,selectedSessionTables:this.selectedSessionTables})}),(0,a.R)(this.subject)).subscribe()}ngOnDestroy(){this.subject.next(!0),this.subject.complete()}openDetail(t){this.dialog.open(ee,{autoFocus:!1,maxHeight:"80vh",width:"70%",disableClose:!1,data:{userId:t.bname,sapId:this.preSelection.selectedSAP}}).afterClosed().subscribe(o=>{})}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(u.WI),e.Y36(u.so),e.Y36(C.e),e.Y36(S),e.Y36(u.uw))},s.\u0275cmp=e.Xpm({type:s,selectors:[["online-user-select-list"]],decls:0,vars:0,template:function(t,i){},encapsulation:2}),s})(),O=(()=>{class s{constructor(t,i,l){this._loadSelectionService=t,this.dialog=i,this.riskAnalysisOnlineService=l,this.loadData=o=>{this.loadDataInner(o)},this.cols=[{name:"bname",type:"text",header:"User ID",width:200,color:"#008cf0",iconClass:"pi-angle-right",onClick:o=>this.openDetail(o)},{name:"userName",type:"text",header:"Name"},{name:"ustyp",type:"text",header:"Type"},{name:"clas",type:"text",header:"Group"},{name:"uflag",type:"text",header:"Lock"},{name:"gltgbInDateFmt",type:"text",header:"Valid To",filterEnabled:"false"}],this.subject=new g.x,this.menuItems=[{label:"Remove",icon:"pi pi-user-plus",command:()=>this.remove()},{label:"Remove All",icon:"pi pi-user-edit",command:()=>this.removeAll()},{label:"Select",icon:"pi pi-user-edit",command:()=>this.openUserSelectDialog()}],this.onRowSelect=o=>{this.selectedItem=o.data},this.onRowUnselect=o=>{this.selectedItem=null}}loadDataInner(t){null!=this.preSelection&&(this.tableEvent=t,this.riskAnalysisOnlineService.userSelectedList({lazyEvent:this.tableEvent,sapId:this.preSelection.selectedSAP,selectedIds:this.preSelection.selectedusers}).pipe((0,T.U)(l=>{this.items=l.data.rows,this.totalRecords=l.data.records}),(0,a.R)(this.subject)).subscribe())}ngOnInit(){}remove(){this.preSelection.selectedusers=this.preSelection.selectedusers.filter(t=>t!==this.selectedItem.bname),this.loadData(this.tableEvent)}removeAll(){this.preSelection.selectedusers=[],this.loadData(this.tableEvent)}openUserSelectDialog(){null!=this.preSelection&&this.dialog.open(Ce,{autoFocus:!1,maxHeight:"110vh",width:"70%",disableClose:!0,data:{preSelection:this.preSelection}}).afterClosed().subscribe(i=>{this.preSelection.selectedusers=i.selectedUsersIds,this.preSelection.selectedSessionTables=i.selectedSessionTables,this.loadDataInner(this.tableEvent)})}openDetail(t){this.dialog.open(ee,{autoFocus:!1,maxHeight:"80vh",width:"70%",disableClose:!1,data:{userId:t.bname,sapId:this.preSelection.selectedSAP}}).afterClosed().subscribe(o=>{})}ngOnDestroy(){this.subject.next(!0),this.subject.complete()}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(C.e),e.Y36(u.uw),e.Y36(V))},s.\u0275cmp=e.Xpm({type:s,selectors:[["online-users"]],inputs:{header:"header",preSelection:"preSelection",items:"items"},standalone:!0,features:[e.jDz],decls:1,vars:9,consts:[["primaryKey","bname",3,"header","columns","menuItems","items","callBack","sortable","totalRecords","onRowSelect","onRowUnselect"]],template:function(t,i){1&t&&e._UZ(0,"custom-list",0),2&t&&e.Q6J("header",i.header)("columns",i.cols)("menuItems",i.menuItems)("items",i.items)("callBack",i.loadData)("sortable",!1)("totalRecords",i.totalRecords)("onRowSelect",i.onRowSelect)("onRowUnselect",i.onRowUnselect)},dependencies:[$],encapsulation:2}),s})(),ve=(()=>{class s{constructor(t){this.httpClient=t}loadSelection(){return this.httpClient.get("adhocAnalysis/adhocSelection")}findFavorites(t,i){return this.httpClient.get(`analysis/findFavourites?sapSystemId=${t}&risk=${i}`)}userList(t,i,l,o,d,r){return o=null===o||""===o?"":encodeURI(JSON.stringify(o)),this.httpClient.get(`adhocAnalysis/getFilteredUsers?\n        rows='${r}\n        &page=${d}\n        &sord=${l}\n        &filters=${o}\n        &sapSystemId=${t}\n        &userIds=${i}`)}userSelectedList(t){return this.httpClient.post("adhocAnalysis/selectedUserDetails",t)}roleSelectedList(t){return this.httpClient.post("adhocAnalysis/currentlySelectedRoles",t)}savePreselection(t){return this.httpClient.post("adhocAnalysis/savePreSelection",t)}selectedRuleList(t){return this.httpClient.post("adhocAnalysis/selectedRules",t)}selectedRiskList(t){return this.httpClient.post("adhocAnalysis/selectedRisks",t)}findUsers(t){return this.httpClient.post("adhocAnalysis/findUsers",t)}findRoles(t){return this.httpClient.post("adhocAnalysis/rolesResults",t)}findRules(t){return this.httpClient.post("adhocAnalysis/favRules",t)}findRisks(t){return this.httpClient.post("adhocAnalysis/favRisks",t)}findAllUsers(t){return this.httpClient.post("adhocAnalysis/selectAllUsers",t)}findAllRoles(t){return this.httpClient.post("adhocAnalysis/selectAllRoles",t)}findAllRules(t){return this.httpClient.post("adhocAnalysis/selectFavAllRules",t)}findAllRisks(t){return this.httpClient.post("adhocAnalysis/selectFavAllRisks",t)}userDetail(t){return this.httpClient.get("adhocAnalysis/userDetails",{params:new f.LE({fromObject:{...t}})})}roleDetail(t){return this.httpClient.get("adhocAnalysis/roleDetails",{params:new f.LE({fromObject:{...t}})})}ruleDetail(t){return this.httpClient.get("rules/ruleDetails",{params:new f.LE({fromObject:{...t}})})}riskDetail(t){return this.httpClient.get("risks/riskDetailsByName",{params:new f.LE({fromObject:{...t}})})}startAnalysis(t){return this.httpClient.post("adhocAnalysis/startAnalysis",t)}resultsDetail(t){return this.httpClient.get("adhocAnalysis/results",{params:new f.LE({fromObject:{...t}})})}resultSummary(t){return this.httpClient.get("analysis/resultSummary",{params:new f.LE({fromObject:{...t}})})}violationResults(t){return this.httpClient.get("analysis/violationResults",{params:new f.LE({fromObject:{...t}})})}}return s.\u0275fac=function(t){return new(t||s)(e.LFG(f.eN))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function xe(s,n){if(1&s&&(e.TgZ(0,"mat-option",16),e._uU(1),e.qZA()),2&s){const t=n.$implicit;e.Q6J("value",t.key),e.xp6(1),e.Oqu(t.value)}}function ke(s,n){if(1&s&&(e.TgZ(0,"mat-option",16),e._uU(1),e.qZA()),2&s){const t=n.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}function Ie(s,n){if(1&s&&(e.TgZ(0,"mat-option",16),e._uU(1),e.qZA()),2&s){const t=n.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}function Ue(s,n){if(1&s&&(e.TgZ(0,"mat-option",16),e._uU(1),e.qZA()),2&s){const t=n.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.description)}}let De=(()=>{class s{constructor(t,i,l){this.apiService=t,this.fb=i,this.dialogRef=l,this.showAlert=!1,this.subject=new g.x,this.variants=[],this.otherOptions=[{key:"excludeInactive",value:"Exclude Inactive Users"},{key:"excludeUnassigned",value:"Exclude Users without any Roles"},{key:"includeMitigations",value:"Excluded Mitigated Users"},{key:"orgFieldCheck",value:"Perform Analysis on Org Fields"}]}ngOnDestroy(){this.subject.next(!0),this.subject.complete()}ngOnInit(){this.reportingUnit={sapSystemList:[],analysisTargetList:[],analysisTypeList:[],otherOptions:[]},this.loadSelectionForm=this.fb.group({sapSystemId:["",_.kI.required],analysisTarget:["",_.kI.required],analysisType:["",_.kI.required],favorites:[""],excludeInactive:[!0],excludeUnassigned:[!0],includeMitigations:[!0],orgFieldCheck:[!0]}),this.loadSelection()}get optionsFormArray(){return this.loadSelectionForm.controls.options}loadSelection(){this.apiService.loadSelection().pipe((0,p.b)(t=>{this.reportingUnit=t.data,this.showAlert=!1}),(0,a.R)(this.subject)).subscribe()}next(){if(this.loadSelectionForm.invalid)return;const t=this.loadSelectionForm.value;t.favorites=t.favorites.join(),this.apiService.savePreselection(this.loadSelectionForm.value).pipe((0,p.b)(i=>{this.dialogRef.close({preSelection:i.data})}),(0,a.R)(this.subject)).subscribe()}initFavorites(){const t=this.loadSelectionForm.get("sapSystemId").value;let i=this.loadSelectionForm.get("analysisType").value;i=null!=i&&""!==i&&"Risks"===i,this.apiService.findFavorites(t,i).pipe((0,p.b)(l=>{this.variants=l.data}),(0,a.R)(this.subject)).subscribe()}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(ve),e.Y36(_.qu),e.Y36(u.so))},s.\u0275cmp=e.Xpm({type:s,selectors:[["pre-selection"]],decls:62,vars:21,consts:[[1,"flex","flex-col","flex-auto","min-w-0"],[1,"flex-auto","p-6","sm:p-10"],["mat-dialog-title",""],[1,"mt-8",3,"formGroup"],[1,"mat-typography"],[1,"w-full"],[3,"formControlName","placeholder","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],[3,"formControlName","placeholder"],["multiple","",3,"formControlName"],[1,"flex","items-center","space-x-8"],["type","checkbox",3,"formControlName"],["align","end"],["mat-button","","mat-dialog-close",""],["mat-button","",3,"click"],[3,"value"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3,"AdHoc PreSelection"),e.qZA(),e.TgZ(4,"form",3)(5,"mat-dialog-content",4)(6,"mat-form-field",5)(7,"mat-label"),e._uU(8,"Select Subsystem"),e.qZA(),e.TgZ(9,"mat-select",6),e.NdJ("selectionChange",function(){return i.initFavorites()}),e.YNc(10,xe,2,2,"mat-option",7),e.ALo(11,"keyvalue"),e.qZA(),e._UZ(12,"mat-icon",8),e.TgZ(13,"mat-error"),e._uU(14," Subsystem select is required "),e.qZA()(),e.TgZ(15,"mat-form-field",5)(16,"mat-label"),e._uU(17,"Analysis Target"),e.qZA(),e.TgZ(18,"mat-select",9),e.YNc(19,ke,2,2,"mat-option",7),e.qZA(),e._UZ(20,"mat-icon",8),e.TgZ(21,"mat-error"),e._uU(22," Target select is required "),e.qZA()(),e.TgZ(23,"mat-form-field",5)(24,"mat-label"),e._uU(25,"Analysis Type"),e.qZA(),e.TgZ(26,"mat-select",6),e.NdJ("selectionChange",function(){return i.initFavorites()}),e.YNc(27,Ie,2,2,"mat-option",7),e.qZA(),e._UZ(28,"mat-icon",8),e.TgZ(29,"mat-error"),e._uU(30," Analysis Type is required "),e.qZA()(),e.TgZ(31,"mat-form-field",5)(32,"mat-label"),e._uU(33,"Variants"),e.qZA(),e.TgZ(34,"mat-select",10),e.YNc(35,Ue,2,2,"mat-option",7),e.qZA()(),e.TgZ(36,"div",5)(37,"mat-label"),e._uU(38,"Other Options"),e.qZA(),e.TgZ(39,"div",11)(40,"ul")(41,"li")(42,"label"),e._UZ(43,"input",12),e._uU(44,"Exclude Inactive"),e.qZA()(),e.TgZ(45,"li")(46,"label"),e._UZ(47,"input",12),e._uU(48,"Exclude Unassigned"),e.qZA()(),e.TgZ(49,"li")(50,"label"),e._UZ(51,"input",12),e._uU(52,"Include Mitigations"),e.qZA()(),e.TgZ(53,"li")(54,"label"),e._UZ(55,"input",12),e._uU(56,"Org Field Check"),e.qZA()()()()()(),e.TgZ(57,"mat-dialog-actions",13)(58,"button",14),e._uU(59,"Cancel"),e.qZA(),e.TgZ(60,"button",15),e.NdJ("click",function(){return i.next()}),e._uU(61,"Next"),e.qZA()()()()()),2&t&&(e.xp6(4),e.Q6J("formGroup",i.loadSelectionForm),e.xp6(5),e.Q6J("formControlName","sapSystemId")("placeholder","Please Select"),e.xp6(1),e.Q6J("ngForOf",e.lcZ(11,19,i.reportingUnit.sapSystems)),e.xp6(2),e.Q6J("svgIcon","heroicons_solid:location-marker"),e.xp6(6),e.Q6J("formControlName","analysisTarget")("placeholder","Please Select"),e.xp6(1),e.Q6J("ngForOf",i.reportingUnit.targetTypes),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:location-marker"),e.xp6(6),e.Q6J("formControlName","analysisType")("placeholder","Please Select"),e.xp6(1),e.Q6J("ngForOf",i.reportingUnit.analysisTypes),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:location-marker"),e.xp6(6),e.Q6J("formControlName","favorites"),e.xp6(1),e.Q6J("ngForOf",i.variants),e.xp6(8),e.Q6J("formControlName","excludeInactive"),e.xp6(4),e.Q6J("formControlName","excludeUnassigned"),e.xp6(4),e.Q6J("formControlName","includeMitigations"),e.xp6(4),e.Q6J("formControlName","orgFieldCheck"))},dependencies:[y.sg,_._Y,_.Wl,_.JJ,_.JL,_.sg,_.u,v.TO,v.KE,v.hX,v.qo,A.lW,u.ZT,u.uh,u.xY,u.H8,F.gD,c.ey,L.Hw,y.Nd],encapsulation:2}),s})(),te=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[P.p0,U.Tx,c.si,L.Ps,Y.TU,y.ez,v.lN,A.ot,u.Is,N.c,j.$9,Q.hJ]}),s})();const we=["*"];let E=(()=>{class s{constructor(t,i){this._formBuilder=t,this.dialog=i,this.isLinear=!0,this.preSelection={selectedTargetType:"USER",selectedAnalysisType:"RULE"}}ngOnInit(){}ngAfterViewInit(){this.openDialog()}openDialog(){this.dialog.open(De).afterClosed().subscribe(i=>{this.preSelection=i.preSelection})}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(_.qu),e.Y36(u.uw))},s.\u0275cmp=e.Xpm({type:s,selectors:[["process-form-template"]],standalone:!0,features:[e.jDz],ngContentSelectors:we,decls:3,vars:0,consts:[[1,"flex","flex-col","flex-auto","min-w-0"],[1,"flex-auto","p-6","sm:p-10"]],template:function(t,i){1&t&&(e.F$t(),e.TgZ(0,"div",0)(1,"div",1),e.Hsn(2),e.qZA()())},dependencies:[h.T5,_.UX,v.lN,A.ot,N.c,Y.TU,P.p0,u.Is,X.j,F.LD,L.Ps,y.ez,I.p9,U.Tx,c.si,B.Cq,te,R.Nh,j.$9,K.m8,Q.hJ,x.U$],encapsulation:2}),s})();var Ze=m(9160),se=m(9364);let Oe=(()=>{class s{constructor(t,i){this._formBuilder=t,this.dialog=i,this.dailyEvents={labels:"test",datasets:[{label:"Event",data:[]}]},this.dailyEventOptions={plugins:{tooltip:{enabled:!0},legend:{display:!1}}},this.isLinear=!0,this.preSelection={selectedTargetType:"USER",selectedAnalysisType:"RULE"},this.header="Cross System Analysis"}ngOnInit(){}ngAfterViewInit(){}openDialog(){}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(_.qu),e.Y36(u.uw))},s.\u0275cmp=e.Xpm({type:s,selectors:[["acm-dashboard"]],decls:17,vars:2,consts:[[1,"flex","flex-col","p-3","w-full"],["label","SOD Chart"],["type","bar",3,"data","options"],["label","Daily Reports"],["label","Rule Book"],[1,"relative","z-10"],[1,"absolute","right-6"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"mat-tab-group")(2,"mat-tab",1),e._UZ(3,"p-chart",2),e.qZA(),e.TgZ(4,"mat-tab",3)(5,"div"),e._uU(6,"TEST 2"),e.qZA()(),e.TgZ(7,"mat-tab",4)(8,"div"),e._uU(9,"TEST 3"),e.qZA()()(),e.TgZ(10,"mat-tab-group"),e._UZ(11,"mat-tab",1),e.TgZ(12,"mat-tab",3)(13,"div"),e._uU(14,"TEST 2"),e.qZA()()(),e.TgZ(15,"div",5),e._UZ(16,"div",6),e.qZA()()),2&t&&(e.xp6(3),e.Q6J("data",i.dailyEvents)("options",i.dailyEventOptions))},dependencies:[R.SP,R.uX,se.C],encapsulation:2}),s})();function Ee(s,n){1&s&&e._uU(0,"User")}function Le(s,n){if(1&s&&e._UZ(0,"online-users",11),2&s){const t=e.oxw();e.Q6J("header",t.header)("preSelection",t.preSelection)}}function Ne(s,n){if(1&s&&e._UZ(0,"online-roles",12),2&s){const t=e.oxw();e.Q6J("preSelection",t.preSelection)}}function Ye(s,n){if(1&s&&e._UZ(0,"online-rule-list",12),2&s){const t=e.oxw();e.Q6J("preSelection",t.preSelection)}}function Fe(s,n){if(1&s&&e._UZ(0,"online-risk-list",12),2&s){const t=e.oxw();e.Q6J("preSelection",t.preSelection)}}let Pe=(()=>{class s{constructor(t,i){this._formBuilder=t,this.dialog=i,this.isLinear=!0,this.preSelection={selectedTargetType:"USER",selectedAnalysisType:"RULE"},this.header="Cross System Analysis"}ngOnInit(){}ngAfterViewInit(){}openDialog(){}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(_.qu),e.Y36(u.uw))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cross-system-analysis1"]],decls:21,vars:7,consts:[[1,"w-full"],[1,"rounded-2xl",3,"linear"],["stepper",""],["matStepLabel",""],[3,"header","preSelection",4,"ngIf"],[3,"preSelection",4,"ngIf"],["mat-flat-button","","matStepperNext","",1,"mt-3",3,"color"],["label","Risks"],[1,"mt-3"],["mat-button","","matStepperPrevious",""],["mat-flat-button","","matStepperNext","",3,"color"],[3,"header","preSelection"],[3,"preSelection"]],template:function(t,i){1&t&&(e.TgZ(0,"section",0)(1,"process-form-template")(2,"mat-stepper",1,2)(4,"mat-step")(5,"div"),e.YNc(6,Ee,1,0,"ng-template",3),e.YNc(7,Le,1,2,"online-users",4),e.YNc(8,Ne,1,1,"online-roles",5),e.TgZ(9,"div")(10,"button",6),e._uU(11,"Next"),e.qZA()()()(),e.TgZ(12,"mat-step",7)(13,"div"),e.YNc(14,Ye,1,1,"online-rule-list",5),e.YNc(15,Fe,1,1,"online-risk-list",5),e.TgZ(16,"div",8)(17,"button",9),e._uU(18,"Back"),e.qZA(),e.TgZ(19,"button",10),e._uU(20,"Next"),e.qZA()()()()()()()),2&t&&(e.xp6(2),e.Q6J("linear",i.isLinear),e.xp6(5),e.Q6J("ngIf","USER"===i.preSelection.selectedTargetType),e.xp6(1),e.Q6J("ngIf","ROLE"===i.preSelection.selectedTargetType),e.xp6(2),e.Q6J("color","primary"),e.xp6(4),e.Q6J("ngIf","RULE"===i.preSelection.selectedAnalysisType),e.xp6(1),e.Q6J("ngIf","RISK"===i.preSelection.selectedAnalysisType),e.xp6(4),e.Q6J("color","primary"))},dependencies:[y.O5,h.C0,h.VY,h.Vq,h.Ic,h.fd,A.lW,E,Z,O,w,D],encapsulation:2}),s})();function Je(s,n){1&s&&e._uU(0,"User")}function Qe(s,n){if(1&s&&e._UZ(0,"online-users",12),2&s){const t=e.oxw();e.Q6J("header",t.header)("preSelection",t.preSelection)}}function je(s,n){if(1&s&&e._UZ(0,"online-roles",13),2&s){const t=e.oxw();e.Q6J("preSelection",t.preSelection)}}function Me(s,n){if(1&s&&e._UZ(0,"online-rule-list",13),2&s){const t=e.oxw();e.Q6J("preSelection",t.preSelection)}}function Be(s,n){if(1&s&&e._UZ(0,"online-risk-list",13),2&s){const t=e.oxw();e.Q6J("preSelection",t.preSelection)}}function qe(s,n){1&s&&e._uU(0,"Roles")}function $e(s,n){1&s&&e._uU(0,"Results")}let Ve=(()=>{class s{constructor(t,i){this._formBuilder=t,this.dialog=i,this.isLinear=!0,this.preSelection={selectedTargetType:"USER",selectedAnalysisType:"RULE"},this.header="Cross System Analysis"}ngOnInit(){}ngAfterViewInit(){}openDialog(){}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(_.qu),e.Y36(u.uw))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cross-system-analysis"]],decls:35,vars:7,consts:[[1,"w-full"],[1,"rounded-2xl",3,"linear"],["stepper",""],["matStepLabel",""],[3,"header","preSelection",4,"ngIf"],[3,"preSelection",4,"ngIf"],["mat-flat-button","","matStepperNext","",1,"mt-3",3,"color"],["label","Risks"],[1,"mt-3"],["mat-button","","matStepperPrevious",""],["mat-flat-button","","matStepperNext","",3,"color"],["mat-flat-button","",3,"click"],[3,"header","preSelection"],[3,"preSelection"]],template:function(t,i){if(1&t){const l=e.EpF();e.TgZ(0,"section",0)(1,"process-form-template")(2,"mat-stepper",1,2)(4,"mat-step")(5,"div"),e.YNc(6,Je,1,0,"ng-template",3),e.YNc(7,Qe,1,2,"online-users",4),e.YNc(8,je,1,1,"online-roles",5),e.TgZ(9,"div")(10,"button",6),e._uU(11,"Next"),e.qZA()()()(),e.TgZ(12,"mat-step",7)(13,"div"),e.YNc(14,Me,1,1,"online-rule-list",5),e.YNc(15,Be,1,1,"online-risk-list",5),e.TgZ(16,"div",8)(17,"button",9),e._uU(18,"Back"),e.qZA(),e.TgZ(19,"button",10),e._uU(20,"Next"),e.qZA()()()(),e.TgZ(21,"mat-step"),e.YNc(22,qe,1,0,"ng-template",3),e.TgZ(23,"div",8)(24,"button",9),e._uU(25,"Back"),e.qZA(),e.TgZ(26,"button",11),e.NdJ("click",function(){e.CHM(l);const d=e.MAs(3);return e.KtG(d.reset())}),e._uU(27,"Reset"),e.qZA()()(),e.TgZ(28,"mat-step"),e.YNc(29,$e,1,0,"ng-template",3),e.TgZ(30,"div",8)(31,"button",9),e._uU(32,"Back"),e.qZA(),e.TgZ(33,"button",11),e.NdJ("click",function(){e.CHM(l);const d=e.MAs(3);return e.KtG(d.reset())}),e._uU(34,"Reset"),e.qZA()()()()()()}2&t&&(e.xp6(2),e.Q6J("linear",i.isLinear),e.xp6(5),e.Q6J("ngIf","USER"===i.preSelection.selectedTargetType),e.xp6(1),e.Q6J("ngIf","ROLE"===i.preSelection.selectedTargetType),e.xp6(2),e.Q6J("color","primary"),e.xp6(4),e.Q6J("ngIf","RULE"===i.preSelection.selectedAnalysisType),e.xp6(1),e.Q6J("ngIf","RISK"===i.preSelection.selectedAnalysisType),e.xp6(4),e.Q6J("color","primary"))},dependencies:[y.O5,h.C0,h.VY,h.Vq,h.Ic,h.fd,A.lW,E,Z,O,w,D],encapsulation:2}),s})();function ze(s,n){1&s&&e._uU(0,"User")}function Xe(s,n){if(1&s&&e._UZ(0,"online-users",12),2&s){const t=e.oxw();e.Q6J("header",t.header)("preSelection",t.preSelection)}}function Ke(s,n){if(1&s&&e._UZ(0,"online-roles",13),2&s){const t=e.oxw();e.Q6J("preSelection",t.preSelection)}}function We(s,n){if(1&s&&e._UZ(0,"online-rule-list",13),2&s){const t=e.oxw();e.Q6J("preSelection",t.preSelection)}}function He(s,n){if(1&s&&e._UZ(0,"online-risk-list",13),2&s){const t=e.oxw();e.Q6J("preSelection",t.preSelection)}}function Ge(s,n){1&s&&e._uU(0,"Roles")}function et(s,n){1&s&&e._uU(0,"Results")}let tt=(()=>{class s{constructor(t,i){this._formBuilder=t,this.dialog=i,this.isLinear=!0,this.preSelection={selectedTargetType:"USER",selectedAnalysisType:"RULE"},this.header="SuccessFactors Analysis"}ngOnInit(){}ngAfterViewInit(){}openDialog(){}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(_.qu),e.Y36(u.uw))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cross-system-analysis"]],decls:35,vars:7,consts:[[1,"w-full"],[1,"rounded-2xl",3,"linear"],["stepper",""],["matStepLabel",""],[3,"header","preSelection",4,"ngIf"],[3,"preSelection",4,"ngIf"],["mat-flat-button","","matStepperNext","",1,"mt-3",3,"color"],["label","Risks"],[1,"mt-3"],["mat-button","","matStepperPrevious",""],["mat-flat-button","","matStepperNext","",3,"color"],["mat-flat-button","",3,"click"],[3,"header","preSelection"],[3,"preSelection"]],template:function(t,i){if(1&t){const l=e.EpF();e.TgZ(0,"section",0)(1,"process-form-template")(2,"mat-stepper",1,2)(4,"mat-step")(5,"div"),e.YNc(6,ze,1,0,"ng-template",3),e.YNc(7,Xe,1,2,"online-users",4),e.YNc(8,Ke,1,1,"online-roles",5),e.TgZ(9,"div")(10,"button",6),e._uU(11,"Next"),e.qZA()()()(),e.TgZ(12,"mat-step",7)(13,"div"),e.YNc(14,We,1,1,"online-rule-list",5),e.YNc(15,He,1,1,"online-risk-list",5),e.TgZ(16,"div",8)(17,"button",9),e._uU(18,"Back"),e.qZA(),e.TgZ(19,"button",10),e._uU(20,"Next"),e.qZA()()()(),e.TgZ(21,"mat-step"),e.YNc(22,Ge,1,0,"ng-template",3),e.TgZ(23,"div",8)(24,"button",9),e._uU(25,"Back"),e.qZA(),e.TgZ(26,"button",11),e.NdJ("click",function(){e.CHM(l);const d=e.MAs(3);return e.KtG(d.reset())}),e._uU(27,"Reset"),e.qZA()()(),e.TgZ(28,"mat-step"),e.YNc(29,et,1,0,"ng-template",3),e.TgZ(30,"div",8)(31,"button",9),e._uU(32,"Back"),e.qZA(),e.TgZ(33,"button",11),e.NdJ("click",function(){e.CHM(l);const d=e.MAs(3);return e.KtG(d.reset())}),e._uU(34,"Reset"),e.qZA()()()()()()}2&t&&(e.xp6(2),e.Q6J("linear",i.isLinear),e.xp6(5),e.Q6J("ngIf","USER"===i.preSelection.selectedTargetType),e.xp6(1),e.Q6J("ngIf","ROLE"===i.preSelection.selectedTargetType),e.xp6(2),e.Q6J("color","primary"),e.xp6(4),e.Q6J("ngIf","RULE"===i.preSelection.selectedAnalysisType),e.xp6(1),e.Q6J("ngIf","RISK"===i.preSelection.selectedAnalysisType),e.xp6(4),e.Q6J("color","primary"))},dependencies:[y.O5,h.C0,h.VY,h.Vq,h.Ic,h.fd,A.lW,E,Z,O,w,D],encapsulation:2}),s})();function st(s,n){1&s&&e._uU(0,"Step 1")}function it(s,n){if(1&s&&e._UZ(0,"online-users",12),2&s){const t=e.oxw();e.Q6J("header",t.header)("preSelection",t.preSelection)}}function nt(s,n){if(1&s&&e._UZ(0,"online-roles",13),2&s){const t=e.oxw();e.Q6J("preSelection",t.preSelection)}}function ot(s,n){if(1&s&&e._UZ(0,"online-rule-list",13),2&s){const t=e.oxw();e.Q6J("preSelection",t.preSelection)}}function lt(s,n){if(1&s&&e._UZ(0,"online-risk-list",13),2&s){const t=e.oxw();e.Q6J("preSelection",t.preSelection)}}function at(s,n){1&s&&e._uU(0,"Step 3")}let rt=(()=>{class s{constructor(t,i){this._formBuilder=t,this.dialog=i,this.isLinear=!0,this.preSelection={selectedTargetType:"USER",selectedAnalysisType:"RULE"},this.header="Online Analysis"}ngOnInit(){}ngAfterViewInit(){}openDialog(){}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(_.qu),e.Y36(u.uw))},s.\u0275cmp=e.Xpm({type:s,selectors:[["risk-analysis"]],decls:28,vars:7,consts:[[1,"w-full"],[1,"rounded-2xl",3,"linear"],["stepper",""],["matStepLabel",""],[3,"header","preSelection",4,"ngIf"],[3,"preSelection",4,"ngIf"],["mat-flat-button","","matStepperNext","",1,"mt-3",3,"color"],["label","Step 2"],[1,"mt-3"],["mat-button","","matStepperPrevious",""],["mat-flat-button","","matStepperNext","",3,"color"],["mat-flat-button","",3,"click"],[3,"header","preSelection"],[3,"preSelection"]],template:function(t,i){if(1&t){const l=e.EpF();e.TgZ(0,"section",0)(1,"process-form-template")(2,"mat-stepper",1,2)(4,"mat-step")(5,"div"),e.YNc(6,st,1,0,"ng-template",3),e.YNc(7,it,1,2,"online-users",4),e.YNc(8,nt,1,1,"online-roles",5),e.TgZ(9,"div")(10,"button",6),e._uU(11,"Next"),e.qZA()()()(),e.TgZ(12,"mat-step",7)(13,"div"),e.YNc(14,ot,1,1,"online-rule-list",5),e.YNc(15,lt,1,1,"online-risk-list",5),e.TgZ(16,"div",8)(17,"button",9),e._uU(18,"Back"),e.qZA(),e.TgZ(19,"button",10),e._uU(20,"Next"),e.qZA()()()(),e.TgZ(21,"mat-step"),e.YNc(22,at,1,0,"ng-template",3),e.TgZ(23,"div",8)(24,"button",9),e._uU(25,"Back"),e.qZA(),e.TgZ(26,"button",11),e.NdJ("click",function(){e.CHM(l);const d=e.MAs(3);return e.KtG(d.reset())}),e._uU(27,"Reset"),e.qZA()()()()()()}2&t&&(e.xp6(2),e.Q6J("linear",i.isLinear),e.xp6(5),e.Q6J("ngIf","USER"===i.preSelection.selectedTargetType),e.xp6(1),e.Q6J("ngIf","ROLE"===i.preSelection.selectedTargetType),e.xp6(2),e.Q6J("color","primary"),e.xp6(4),e.Q6J("ngIf","RULE"===i.preSelection.selectedAnalysisType),e.xp6(1),e.Q6J("ngIf","RISK"===i.preSelection.selectedAnalysisType),e.xp6(4),e.Q6J("color","primary"))},dependencies:[y.O5,h.C0,h.VY,h.Vq,h.Ic,h.fd,A.lW,E,Z,O,w,D],encapsulation:2}),s})();function ct(s,n){1&s&&e._uU(0,"User")}function pt(s,n){if(1&s&&e._UZ(0,"online-users",12),2&s){const t=e.oxw();e.Q6J("header",t.header)("preSelection",t.preSelection)}}function dt(s,n){if(1&s&&e._UZ(0,"online-roles",13),2&s){const t=e.oxw();e.Q6J("preSelection",t.preSelection)}}function mt(s,n){if(1&s&&e._UZ(0,"online-rule-list",13),2&s){const t=e.oxw();e.Q6J("preSelection",t.preSelection)}}function ut(s,n){if(1&s&&e._UZ(0,"online-risk-list",13),2&s){const t=e.oxw();e.Q6J("preSelection",t.preSelection)}}function ht(s,n){1&s&&e._uU(0,"Roles")}function ft(s,n){1&s&&e._uU(0,"Results")}let gt=(()=>{class s{constructor(t,i){this._formBuilder=t,this.dialog=i,this.isLinear=!0,this.preSelection={selectedTargetType:"USER",selectedAnalysisType:"RULE"},this.header="Selected Users"}ngOnInit(){}ngAfterViewInit(){}openDialog(){}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(_.qu),e.Y36(u.uw))},s.\u0275cmp=e.Xpm({type:s,selectors:[["position-id-analysis"]],decls:35,vars:7,consts:[[1,"w-full"],[1,"rounded-2xl",3,"linear"],["stepper",""],["matStepLabel",""],[3,"header","preSelection",4,"ngIf"],[3,"preSelection",4,"ngIf"],["mat-flat-button","","matStepperNext","",1,"mt-3",3,"color"],["label","Risks"],[1,"mt-3"],["mat-button","","matStepperPrevious",""],["mat-flat-button","","matStepperNext","",3,"color"],["mat-flat-button","",3,"click"],[3,"header","preSelection"],[3,"preSelection"]],template:function(t,i){if(1&t){const l=e.EpF();e.TgZ(0,"section",0)(1,"process-form-template")(2,"mat-stepper",1,2)(4,"mat-step")(5,"div"),e.YNc(6,ct,1,0,"ng-template",3),e.YNc(7,pt,1,2,"online-users",4),e.YNc(8,dt,1,1,"online-roles",5),e.TgZ(9,"div")(10,"button",6),e._uU(11,"Next"),e.qZA()()()(),e.TgZ(12,"mat-step",7)(13,"div"),e.YNc(14,mt,1,1,"online-rule-list",5),e.YNc(15,ut,1,1,"online-risk-list",5),e.TgZ(16,"div",8)(17,"button",9),e._uU(18,"Back"),e.qZA(),e.TgZ(19,"button",10),e._uU(20,"Next"),e.qZA()()()(),e.TgZ(21,"mat-step"),e.YNc(22,ht,1,0,"ng-template",3),e.TgZ(23,"div",8)(24,"button",9),e._uU(25,"Back"),e.qZA(),e.TgZ(26,"button",11),e.NdJ("click",function(){e.CHM(l);const d=e.MAs(3);return e.KtG(d.reset())}),e._uU(27,"Reset"),e.qZA()()(),e.TgZ(28,"mat-step"),e.YNc(29,ft,1,0,"ng-template",3),e.TgZ(30,"div",8)(31,"button",9),e._uU(32,"Back"),e.qZA(),e.TgZ(33,"button",11),e.NdJ("click",function(){e.CHM(l);const d=e.MAs(3);return e.KtG(d.reset())}),e._uU(34,"Reset"),e.qZA()()()()()()}2&t&&(e.xp6(2),e.Q6J("linear",i.isLinear),e.xp6(5),e.Q6J("ngIf","USER"===i.preSelection.selectedTargetType),e.xp6(1),e.Q6J("ngIf","ROLE"===i.preSelection.selectedTargetType),e.xp6(2),e.Q6J("color","primary"),e.xp6(4),e.Q6J("ngIf","RULE"===i.preSelection.selectedAnalysisType),e.xp6(1),e.Q6J("ngIf","RISK"===i.preSelection.selectedAnalysisType),e.xp6(4),e.Q6J("color","primary"))},dependencies:[y.O5,h.C0,h.VY,h.Vq,h.Ic,h.fd,A.lW,E,Z,O,w,D],encapsulation:2}),s})();function _t(s,n){1&s&&e._uU(0,"User")}function St(s,n){if(1&s&&e._UZ(0,"online-users",12),2&s){const t=e.oxw();e.Q6J("header",t.header)("preSelection",t.preSelection)}}function yt(s,n){if(1&s&&e._UZ(0,"online-roles",13),2&s){const t=e.oxw();e.Q6J("preSelection",t.preSelection)}}function bt(s,n){if(1&s&&e._UZ(0,"online-rule-list",13),2&s){const t=e.oxw();e.Q6J("preSelection",t.preSelection)}}function Rt(s,n){if(1&s&&e._UZ(0,"online-risk-list",13),2&s){const t=e.oxw();e.Q6J("preSelection",t.preSelection)}}function Tt(s,n){1&s&&e._uU(0,"Roles")}function At(s,n){1&s&&e._uU(0,"Results")}let ie=(()=>{class s{constructor(t,i){this._formBuilder=t,this.dialog=i,this.isLinear=!0,this.preSelection={selectedTargetType:"USER",selectedAnalysisType:"RULE"},this.header="Selected Users"}ngOnInit(){}ngAfterViewInit(){}openDialog(){}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(_.qu),e.Y36(u.uw))},s.\u0275cmp=e.Xpm({type:s,selectors:[["simulation-online"]],decls:35,vars:7,consts:[[1,"w-full"],[1,"rounded-2xl",3,"linear"],["stepper",""],["matStepLabel",""],[3,"header","preSelection",4,"ngIf"],[3,"preSelection",4,"ngIf"],["mat-flat-button","","matStepperNext","",1,"mt-3",3,"color"],["label","Risks"],[1,"mt-3"],["mat-button","","matStepperPrevious",""],["mat-flat-button","","matStepperNext","",3,"color"],["mat-flat-button","",3,"click"],[3,"header","preSelection"],[3,"preSelection"]],template:function(t,i){if(1&t){const l=e.EpF();e.TgZ(0,"section",0)(1,"process-form-template")(2,"mat-stepper",1,2)(4,"mat-step")(5,"div"),e.YNc(6,_t,1,0,"ng-template",3),e.YNc(7,St,1,2,"online-users",4),e.YNc(8,yt,1,1,"online-roles",5),e.TgZ(9,"div")(10,"button",6),e._uU(11,"Next"),e.qZA()()()(),e.TgZ(12,"mat-step",7)(13,"div"),e.YNc(14,bt,1,1,"online-rule-list",5),e.YNc(15,Rt,1,1,"online-risk-list",5),e.TgZ(16,"div",8)(17,"button",9),e._uU(18,"Back"),e.qZA(),e.TgZ(19,"button",10),e._uU(20,"Next"),e.qZA()()()(),e.TgZ(21,"mat-step"),e.YNc(22,Tt,1,0,"ng-template",3),e.TgZ(23,"div",8)(24,"button",9),e._uU(25,"Back"),e.qZA(),e.TgZ(26,"button",11),e.NdJ("click",function(){e.CHM(l);const d=e.MAs(3);return e.KtG(d.reset())}),e._uU(27,"Reset"),e.qZA()()(),e.TgZ(28,"mat-step"),e.YNc(29,At,1,0,"ng-template",3),e.TgZ(30,"div",8)(31,"button",9),e._uU(32,"Back"),e.qZA(),e.TgZ(33,"button",11),e.NdJ("click",function(){e.CHM(l);const d=e.MAs(3);return e.KtG(d.reset())}),e._uU(34,"Reset"),e.qZA()()()()()()}2&t&&(e.xp6(2),e.Q6J("linear",i.isLinear),e.xp6(5),e.Q6J("ngIf","USER"===i.preSelection.selectedTargetType),e.xp6(1),e.Q6J("ngIf","ROLE"===i.preSelection.selectedTargetType),e.xp6(2),e.Q6J("color","primary"),e.xp6(4),e.Q6J("ngIf","RULE"===i.preSelection.selectedAnalysisType),e.xp6(1),e.Q6J("ngIf","RISK"===i.preSelection.selectedAnalysisType),e.xp6(4),e.Q6J("color","primary"))},dependencies:[y.O5,h.C0,h.VY,h.Vq,h.Ic,h.fd,A.lW,E,Z,O,w,D],encapsulation:2}),s})();const Ct=[{path:"acmdashboard",component:Oe},{path:"online/:id",component:rt},{path:"simulation/online/:id",component:ie},{path:"simulation/offline/:id",component:ie},{path:"position-id/analyisis/:id",component:gt},{path:"cross-system-analysis/:id",component:Ve},{path:"cross-system-analysis1/:id",component:Pe},{path:"sfAnalysis/:id",component:tt}];let vt=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[y.ez,z.Bz.forChild(Ct),Ze.a,h.T5,_.UX,v.lN,A.ot,N.c,Y.TU,P.p0,u.Is,X.j,F.LD,L.Ps,y.ez,I.p9,U.Tx,c.si,B.Cq,te,R.Nh,j.$9,K.m8,Q.hJ,x.U$,E,Z,O,w,D,R.Nh,se.S]}),s})()},1572:(ne,M,m)=>{m.d(M,{Cq:()=>z,Ou:()=>R});var y=m(1281),_=m(3353),A=m(4098),I=m(6895),c=m(4650),u=m(3238),v=m(727);function L(g,p){if(1&g&&(c.O4$(),c._UZ(0,"circle",4)),2&g){const a=c.oxw(),e=c.MAs(1);c.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+a._spinnerAnimationLabel)("stroke-dashoffset",a._getStrokeDashOffset(),"px")("stroke-dasharray",a._getStrokeCircumference(),"px")("stroke-width",a._getCircleStrokeWidth(),"%")("transform-origin",a._getCircleTransformOrigin(e)),c.uIk("r",a._getCircleRadius())}}function N(g,p){if(1&g&&(c.O4$(),c._UZ(0,"circle",4)),2&g){const a=c.oxw(),e=c.MAs(1);c.Udp("stroke-dashoffset",a._getStrokeDashOffset(),"px")("stroke-dasharray",a._getStrokeCircumference(),"px")("stroke-width",a._getCircleStrokeWidth(),"%")("transform-origin",a._getCircleTransformOrigin(e)),c.uIk("r",a._getCircleRadius())}}const B=(0,u.pj)(class{constructor(g){this._elementRef=g}},"primary"),F=new c.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function h(){return{diameter:100}}});class R extends B{constructor(p,a,e,f,S,J,T,C){super(p),this._document=e,this._diameter=100,this._value=0,this._resizeSubscription=v.w0.EMPTY,this.mode="determinate";const q=R._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),q.has(e.head)||q.set(e.head,new Set([100])),this._noopAnimations="NoopAnimations"===f&&!!S&&!S._forceAnimations,"mat-spinner"===p.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),S&&(S.color&&(this.color=this.defaultColor=S.color),S.diameter&&(this.diameter=S.diameter),S.strokeWidth&&(this.strokeWidth=S.strokeWidth)),a.isBrowser&&a.SAFARI&&T&&J&&C&&(this._resizeSubscription=T.change(150).subscribe(()=>{"indeterminate"===this.mode&&C.run(()=>J.markForCheck())}))}get diameter(){return this._diameter}set diameter(p){this._diameter=(0,y.su)(p),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(p){this._strokeWidth=(0,y.su)(p)}get value(){return"determinate"===this.mode?this._value:0}set value(p){this._value=Math.max(0,Math.min(100,(0,y.su)(p)))}ngOnInit(){const p=this._elementRef.nativeElement;this._styleRoot=(0,_.kV)(p)||this._document.head,this._attachStyleNode(),p.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const p=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${p} ${p}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(p){const a=50*(p.currentScale??1);return`${a}% ${a}%`}_attachStyleNode(){const p=this._styleRoot,a=this._diameter,e=R._diameters;let f=e.get(p);if(!f||!f.has(a)){const S=this._document.createElement("style");S.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),S.textContent=this._getAnimationText(),p.appendChild(S),f||(f=new Set,e.set(p,f)),f.add(a)}}_getAnimationText(){const p=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*p).replace(/END_VALUE/g,""+.2*p).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}R._diameters=new WeakMap,R.\u0275fac=function(p){return new(p||R)(c.Y36(c.SBq),c.Y36(_.t4),c.Y36(I.K0,8),c.Y36(c.QbO,8),c.Y36(F),c.Y36(c.sBO),c.Y36(A.rL),c.Y36(c.R0b))},R.\u0275cmp=c.Xpm({type:R,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(p,a){2&p&&(c.uIk("aria-valuemin","determinate"===a.mode?0:null)("aria-valuemax","determinate"===a.mode?100:null)("aria-valuenow","determinate"===a.mode?a.value:null)("mode",a.mode),c.Udp("width",a.diameter,"px")("height",a.diameter,"px"),c.ekj("_mat-animation-noopable",a._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[c.qOj],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(p,a){1&p&&(c.O4$(),c.TgZ(0,"svg",0,1),c.YNc(2,L,1,11,"circle",2),c.YNc(3,N,1,9,"circle",3),c.qZA()),2&p&&(c.Udp("width",a.diameter,"px")("height",a.diameter,"px"),c.Q6J("ngSwitch","indeterminate"===a.mode),c.uIk("viewBox",a._getViewBox()),c.xp6(2),c.Q6J("ngSwitchCase",!0),c.xp6(1),c.Q6J("ngSwitchCase",!1))},dependencies:[I.RF,I.n9],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:rgba(0,0,0,0);transition:stroke-dashoffset 225ms linear}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}.mat-progress-spinner[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}.mat-progress-spinner._mat-animation-noopable svg,.mat-progress-spinner._mat-animation-noopable circle{animation:none;transition:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}"],encapsulation:2,changeDetection:0});let z=(()=>{class g{}return g.\u0275fac=function(a){return new(a||g)},g.\u0275mod=c.oAB({type:g}),g.\u0275inj=c.cJS({imports:[u.BQ,I.ez,u.BQ]}),g})()}}]);