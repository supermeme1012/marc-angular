"use strict";(self.webpackChunkriskanalysis=self.webpackChunkriskanalysis||[]).push([[527],{8527:(ae,d,s)=>{s.r(d),s.d(d,{CommunicationModule:()=>se});var c=s(6895),u=s(2510),x=s(3848),k=s(403),Z=s(5722),U=s(1327),g=s(5593),p=s(4247),M=s(5412),A=s(9549),P=s(4466),O=s(4144),_=s(4385),H=s(1149),D=s(4859),J=s(6709),e=s(4650),v=s(9160);let R=(()=>{class i{constructor(){this.cols=[{field:"type",type:"text",header:"Type"},{field:"recipient",type:"text",header:"Recipient"},{field:"time",type:"text",header:"Time"}],this.data=[{type:"type",recipient:"text",time:"Type"},{type:"type",recipient:"text",time:"Type"},{type:"type",recipient:"text",time:"Type"},{type:"type",recipient:"text",time:"Type"},{type:"type",recipient:"text",time:"Type"},{type:"type",recipient:"text",time:"Type"},{type:"type",recipient:"text",time:"Type"},{type:"type",recipient:"text",time:"Type"},{type:"type",recipient:"text",time:"Type"},{type:"type",recipient:"text",time:"Type"},{type:"type",recipient:"text",time:"Type"},{type:"type",recipient:"text",time:"Type"},{type:"type",recipient:"text",time:"Type"},{type:"type",recipient:"text",time:"Type"}],this.title="communication test"}ngOnInit(){}ngAfterViewInit(){}ngOnDestroy(){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["logs"]],decls:1,vars:3,consts:[[3,"cols","data","title"]],template:function(t,n){1&t&&e._UZ(0,"app-table",0),2&t&&(e.s9C("title",n.title),e.Q6J("cols",n.cols)("data",n.data))},dependencies:[v.a],styles:["[_nghost-%COMP%]{width:100%}"]}),i})();var h=s(5832),f=s(440);let N=(()=>{class i{constructor(){this.groupedItems=[{label:"None",value:"None",items:[{label:"None",value:"None"}]},{label:"Add User",value:"Add User",items:[{label:"Requester",value:"Requester"},{label:"User",value:"User"}]},{label:"Delete User",value:"Delete User",items:[{label:"Requester",value:"Requester"}]},{label:"Edit User",value:"Edit User",items:[{label:"Requester",value:"Requester"}]},{label:"Lock User",value:"Lock User",items:[{label:"Requester",value:"Requester"}]},{label:"Password",value:"Password",items:[{label:"Requester",value:"Requester"},{label:"User",value:"User"}]},{label:"Self service",value:"Self service",items:[{label:"Self service Unlock & Reset",value:"Self service Unlock & Reset"},{label:"Self service Unlock",value:"Self service Unlock"}]},{label:"Unlock account",value:"Unlock account",items:[{label:"Requester",value:"Requester"}]},{label:"Approval",value:"Approval",items:[{label:"Approvals",value:"Approvals"}]},{label:"Privilege",value:"Privilege",items:[{label:"Request",value:"Request"},{label:"Approve",value:"Approve"},{label:"Review",value:"Review"},{label:"Review Report",value:"Review Report"}]},{label:"Forgot password",value:"Forgot password",items:[{label:"Password recover",value:"Password recover"}]},{label:"Mitigation",value:"Mitigation",items:[{label:"Mitigation Assignment Expiry",value:"Mitigation Assignment Expiry"}]}],this.rows=["Add User","Delete User","Edit User","Lock User","Password","Self service","Unlock account","Approval","Privilege","Forgot pasword","Mitigation"],this.buttons=[{title:"Test"},{title:"Test Message"},{title:"Save"}],this.title="communication test"}ngOnInit(){}ngAfterViewInit(){}ngOnDestroy(){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["communication"]],decls:6,vars:2,consts:[[1,"flex","justify-center"],[1,"flex","mt-10","justify-center"],[3,"groupedItems"],["pButton","","type","button",1,"mt-4","py-2","px-4","rounded-full",3,"loading"]],template:function(t,n){1&t&&(e.TgZ(0,"section",0)(1,"p-card",1),e._UZ(2,"app-select-template",2)(3,"app-email-template"),e.TgZ(4,"button",3),e._uU(5,"Confirm Changes"),e.qZA()()()),2&t&&(e.xp6(2),e.Q6J("groupedItems",n.groupedItems),e.xp6(2),e.Q6J("loading",n.loading))},dependencies:[g.Hq,p.Z,h.N,f.t],styles:["[_nghost-%COMP%]{width:100%}"]}),i})();var m=s(805),r=s(7340),y=s(9592),T=s(982);const z=["mask"];function F(i,a){1&i&&e.GkF(0)}function L(i,a){if(1&i&&(e.ynx(0),e.YNc(1,F,1,0,"ng-container",7),e.BQk()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t.indicatorTemplate)}}function E(i,a){1&i&&e._UZ(0,"i",8)}function Q(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",4),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onImageClick())}),e.YNc(1,L,2,1,"ng-container",5),e.YNc(2,E,1,0,"ng-template",null,6,e.W1O),e.qZA()}if(2&i){const t=e.MAs(3),n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.indicatorTemplate)("ngIfElse",t)}}const j=function(i,a){return{showTransitionParams:i,hideTransitionParams:a}},G=function(i){return{value:"visible",params:i}};function V(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div"),e.NdJ("@animation.start",function(o){e.CHM(t);const l=e.oxw(2);return e.KtG(l.onAnimationStart(o))})("@animation.done",function(o){e.CHM(t);const l=e.oxw(2);return e.KtG(l.onAnimationEnd(o))}),e.TgZ(1,"img",20),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onPreviewImageClick())}),e.qZA()()}if(2&i){const t=e.oxw(2);e.Q6J("@animation",e.VKq(6,G,e.WLB(3,j,t.showTransitionOptions,t.hideTransitionOptions))),e.xp6(1),e.Q6J("ngStyle",t.imagePreviewStyle()),e.uIk("src",t.src,e.LSH)}}function K(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",9,10),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onMaskClick())}),e.TgZ(2,"div",11),e.NdJ("click",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.handleToolbarClick(o))}),e.TgZ(3,"button",12),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.rotateRight())}),e._UZ(4,"i",13),e.qZA(),e.TgZ(5,"button",12),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.rotateLeft())}),e._UZ(6,"i",14),e.qZA(),e.TgZ(7,"button",15),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.zoomOut())}),e._UZ(8,"i",16),e.qZA(),e.TgZ(9,"button",15),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.zoomIn())}),e._UZ(10,"i",17),e.qZA(),e.TgZ(11,"button",12),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closePreview())}),e._UZ(12,"i",18),e.qZA()(),e.YNc(13,V,2,8,"div",19),e.qZA()}if(2&i){const t=e.oxw();e.xp6(7),e.Q6J("disabled",t.isZoomOutDisabled),e.xp6(2),e.Q6J("disabled",t.isZoomInDisabled),e.xp6(4),e.Q6J("ngIf",t.previewVisible)}}let Y=(()=>{class i{constructor(t,n){this.config=t,this.cd=n,this.preview=!1,this.showTransitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)",this.onShow=new e.vpe,this.onHide=new e.vpe,this.onImageError=new e.vpe,this.maskVisible=!1,this.previewVisible=!1,this.rotate=0,this.scale=1,this.previewClick=!1,this.zoomSettings={default:1,step:.1,max:1.5,min:.5}}get isZoomOutDisabled(){return this.scale-this.zoomSettings.step<=this.zoomSettings.min}get isZoomInDisabled(){return this.scale+this.zoomSettings.step>=this.zoomSettings.max}ngAfterContentInit(){this.templates.forEach(t=>{t.getType(),this.indicatorTemplate=t.template})}onImageClick(){this.preview&&(this.maskVisible=!0,this.previewVisible=!0)}onMaskClick(){this.previewClick||this.closePreview(),this.previewClick=!1}onPreviewImageClick(){this.previewClick=!0}rotateRight(){this.rotate+=90,this.previewClick=!0}rotateLeft(){this.rotate-=90,this.previewClick=!0}zoomIn(){this.scale=this.scale+this.zoomSettings.step,this.previewClick=!0}zoomOut(){this.scale=this.scale-this.zoomSettings.step,this.previewClick=!0}onAnimationStart(t){switch(t.toState){case"visible":this.container=t.element,this.wrapper=this.container.parentElement,this.appendContainer(),this.moveOnTop();break;case"void":y.p.addClass(this.wrapper,"p-component-overlay-leave")}}onAnimationEnd(t){switch(t.toState){case"void":T.P9.clear(this.wrapper),this.maskVisible=!1,this.container=null,this.wrapper=null,this.cd.markForCheck(),this.onHide.emit({});break;case"visible":this.onShow.emit({})}}moveOnTop(){T.P9.set("modal",this.wrapper,this.config.zIndex.modal)}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.wrapper):y.p.appendChild(this.wrapper,this.appendTo))}imagePreviewStyle(){return{transform:"rotate("+this.rotate+"deg) scale("+this.scale+")"}}containerClass(){return{"p-image p-component":!0,"p-image-preview-container":this.preview}}handleToolbarClick(t){t.stopPropagation()}closePreview(){this.previewVisible=!1,this.rotate=0,this.scale=this.zoomSettings.default}imageError(t){this.onImageError.emit(t)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(m.b4),e.Y36(e.sBO))},i.\u0275cmp=e.Xpm({type:i,selectors:[["p-image"]],contentQueries:function(t,n,o){if(1&t&&e.Suo(o,m.jx,4),2&t){let l;e.iGM(l=e.CRH())&&(n.templates=l)}},viewQuery:function(t,n){if(1&t&&e.Gf(z,5),2&t){let o;e.iGM(o=e.CRH())&&(n.mask=o.first)}},hostAttrs:[1,"p-element"],inputs:{imageClass:"imageClass",imageStyle:"imageStyle",styleClass:"styleClass",style:"style",src:"src",alt:"alt",width:"width",height:"height",appendTo:"appendTo",preview:"preview",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onShow:"onShow",onHide:"onHide",onImageError:"onImageError"},decls:4,vars:13,consts:[[3,"ngClass","ngStyle"],[3,"ngStyle","error"],["class","p-image-preview-indicator",3,"click",4,"ngIf"],["class","p-image-mask p-component-overlay p-component-overlay-enter",3,"click",4,"ngIf"],[1,"p-image-preview-indicator",3,"click"],[4,"ngIf","ngIfElse"],["defaultTemplate",""],[4,"ngTemplateOutlet"],[1,"p-image-preview-icon","pi","pi-eye"],[1,"p-image-mask","p-component-overlay","p-component-overlay-enter",3,"click"],["mask",""],[1,"p-image-toolbar",3,"click"],["type","button",1,"p-image-action","p-link",3,"click"],[1,"pi","pi-refresh"],[1,"pi","pi-undo"],["type","button",1,"p-image-action","p-link",3,"disabled","click"],[1,"pi","pi-search-minus"],[1,"pi","pi-search-plus"],[1,"pi","pi-times"],[4,"ngIf"],[1,"p-image-preview",3,"ngStyle","click"]],template:function(t,n){1&t&&(e.TgZ(0,"span",0)(1,"img",1),e.NdJ("error",function(l){return n.imageError(l)}),e.qZA(),e.YNc(2,Q,4,2,"div",2),e.YNc(3,K,14,3,"div",3),e.qZA()),2&t&&(e.Tol(n.styleClass),e.Q6J("ngClass",n.containerClass())("ngStyle",n.style),e.xp6(1),e.Tol(n.imageClass),e.Q6J("ngStyle",n.imageStyle),e.uIk("src",n.src,e.LSH)("alt",n.alt)("width",n.width)("height",n.height),e.xp6(1),e.Q6J("ngIf",n.preview),e.xp6(1),e.Q6J("ngIf",n.maskVisible))},dependencies:[c.mk,c.O5,c.tP,c.PC],styles:[".p-image-mask{display:flex;align-items:center;justify-content:center}.p-image-preview-container{position:relative;display:inline-block}.p-image-preview-indicator{position:absolute;left:0;top:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;opacity:0;transition:opacity .3s}.p-image-preview-icon{font-size:1.5rem}.p-image-preview-container:hover>.p-image-preview-indicator{opacity:1;cursor:pointer}.p-image-preview-container>img{cursor:pointer}.p-image-toolbar{position:absolute;top:0;right:0;display:flex;z-index:1}.p-image-action.p-link{display:flex;justify-content:center;align-items:center}.p-image-action.p-link[disabled]{opacity:.5}.p-image-preview{transition:transform .15s;max-width:100vw;max-height:100vh}\n"],encapsulation:2,data:{animation:[(0,r.X$)("animation",[(0,r.eR)("void => visible",[(0,r.oB)({transform:"scale(0.7)",opacity:0}),(0,r.jt)("{{showTransitionParams}}")]),(0,r.eR)("visible => void",[(0,r.jt)("{{hideTransitionParams}}",(0,r.oB)({transform:"scale(0.7)",opacity:0}))])])]},changeDetection:0}),i})(),B=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[c.ez,m.m8]}),i})(),w=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-display-image"]],inputs:{rows:"rows",buttons:"buttons"},standalone:!0,features:[e.jDz],decls:2,vars:0,consts:[[1,"flex","px-8","pt-6","pb-8"],["src","assets/images/marc-solutions.jpg","alt","Image","width","250",1,"border","p-5","mx-auto"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"p-image",1),e.qZA())},dependencies:[B,Y],styles:["[_nghost-%COMP%]{width:100%}"]}),i})();var X=s(529),b=s(6919);let S=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-upload-image"]],inputs:{rows:"rows",buttons:"buttons"},standalone:!0,features:[e.jDz],decls:2,vars:0,consts:[[1,"flex-auto"],["name","myfile[]","url","./upload.php","multiple","multiple"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"p-fileUpload",1),e.qZA())},dependencies:[b.O,b.p,X.JF],styles:["[_nghost-%COMP%]{width:100%}"]}),i})();const $=function(){return{width:"60%",margin:"0 auto"}};let W=(()=>{class i{constructor(){this.rows=[{title:"Host",id:"host",placeHolder:"Host"},{title:"Port",id:"port",placeHolder:"Port"},{title:"Auth type",id:"authType",placeHolder:"Auth type"},{title:"Username",id:"username",placeHolder:"Username"},{title:"Password",id:"password",placeHolder:"**************"},{title:"Sender",id:"sender",placeHolder:"Sender"}],this.buttons=[{title:"Test"},{title:"Test Message"},{title:"Save"}],this.title="communication test"}ngOnInit(){}ngAfterViewInit(){}ngOnDestroy(){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["communication"]],decls:3,vars:3,consts:[[1,"flex","mt-10"]],template:function(t,n){1&t&&(e.TgZ(0,"p-card",0),e._UZ(1,"app-display-image")(2,"app-upload-image"),e.qZA()),2&t&&e.Akn(e.DdM(2,$))},dependencies:[p.Z,w,S],styles:["[_nghost-%COMP%]{width:100%}"]}),i})();var q=s(7579),ee=s(8505),te=s(2722),ie=s(5506),ne=s(7404),C=s(1073),I=s(2453);const oe=[{path:"email/settings",component:(()=>{class i{constructor(t,n){this.userService=t,this.notificationService=n,this.subject=new q.x,this.fields={ehost:{title:"Host",id:"host",placeHolder:"Host"},eport:{title:"Port",id:"port",placeHolder:"Port"},eauthtype:{title:"Auth type",id:"authType",placeHolder:"Auth type"},eusername:{title:"Username",id:"username",placeHolder:"Username"},epassword:{title:"Password",id:"password",placeHolder:"**************"},esender:{title:"Sender",id:"sender",placeHolder:"Sender"}},this.buttons=[{title:"Test",type:"button",buttonFunc:o=>this.onTest(o)},{title:"Test Message",type:"button",buttonFunc:o=>this.onTestMessage(o)},{title:"Save",type:"submit"}],this.title="communication test",this.getPlaceholderOrDefault=o=>"epassword"==o?"*************":this.data[o],this.onSubmit=o=>{this.loading="Save",setTimeout(()=>{this.notificationService.success("Smtp settings was saved successful"),this.loading=""},1e3)},this.onTest=o=>{this.loading="Test",setTimeout(()=>{this.notificationService.success("Smtp settings was saved successful"),this.loading=""},1e3)},this.onTestMessage=o=>{this.loading="Test Message",setTimeout(()=>{this.notificationService.success("Test message was queued to send successful"),this.loading=""},1e3)}}ngOnInit(){this.data={},this.loadData(),console.log("fields"+this.fields)}loadData(){setTimeout(()=>{this.userService.getMailForm().pipe((0,ee.b)(t=>{console.log(t.data.mail),this.data=t.data.mailInfo,console.log(this.data)}),(0,te.R)(this.subject)).subscribe()},10)}ngAfterViewInit(){}ngOnDestroy(){}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(ie.N),e.Y36(ne.g))},i.\u0275cmp=e.Xpm({type:i,selectors:[["communication"]],decls:3,vars:6,consts:[[3,"loading","onSubmit","rows","data","buttons","getPlaceholderOrDefault"]],template:function(t,n){1&t&&(e.TgZ(0,"app-form",0),e._UZ(1,"p-toast")(2,"router-outlet"),e.qZA()),2&t&&e.Q6J("loading",n.loading)("onSubmit",n.onSubmit)("rows",n.fields)("data",n.data)("buttons",n.buttons)("getPlaceholderOrDefault",n.getPlaceholderOrDefault)},dependencies:[u.lC,C.U,I.FN],styles:["[_nghost-%COMP%]{width:100%}"]}),i})()},{path:"email/logs",component:R},{path:"template",component:N},{path:"logo",component:W}];let se=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[c.ez,u.Bz.forChild(oe),x.Nh,k.U$,Z.q4,U.$9,g.hJ,p.d,M.Is,A.lN,P.m,O.c,_.LD,H.f,D.ot,J.p9,h.N,f.t,p.d,w,S,v.a,C.U,I.EV]}),i})()}}]);